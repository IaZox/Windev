/*! 26.0.1.0 */
/*! VersionVI: 01F260101d   */
function SetVisible(n,t){WDAnimSurImage.prototype.SetVisibilite(n,t?"visible":"hidden")}function oCreerDivSuperposable(n,t,i,r){var u=document.createElement("div");return WDAnimSurImage.prototype.SetSuperposable(u),t&&(u.style.overflow="hidden"),i&&SetVisible(u,!1),n.appendChild(u),r||(WDAnimSurImage.prototype.SetX(u,0),WDAnimSurImage.prototype.SetY(u,0)),u}function WDDiapo(){this.m_oDiv=null;this.m_oImgTempFin=null;this.m_oCanva=null}function WDImageAnim(n,t){this.m_oImg=_JGEN(n,document,!1);this.m_nOpaciteDebut=WDAnimSurImage.prototype.GetOpacite(this.m_oImg);WDAnimSurImage.prototype.SetOpacite(this.m_oImg,0);this.m_nDuree=t;this.m_sAlias=n;this.m_bPremierAffichage=!0;var i=this;this.m_pfCallBack=function(){i.Maj()};this.Maj()}function WDImageZoom(n,t,i,r,u,f,e,o,s){var c,a,l,h;if(this.m_oObjet=document.getElementById(n),this.m_oObjet==null&&(this.m_oObjet=document.getElementsByName(n)[0]),this.m_sSourceImageVignette=f,this.m_bVignette=this.m_sSourceImageVignette!=null&&this.m_sSourceImageVignette!="",this.m_oParentImage=this.oParentImage(),this.m_oLimite=oCreerDivSuperposable(this.m_oParentImage,!0),WDAnimSurImage.prototype.SetOpacite(this.m_oLimite,50),this.m_oPopup=e!=null?_JGEN(e,document,!0):null,this.m_oPopup!=null&&(WDAnimSurImage.prototype.SetX(this.m_oPopup,0),WDAnimSurImage.prototype.SetY(this.m_oPopup,0),this.m_oPopup.style.display=="none"&&(this.m_oPopup.style.display="block"),this.m_oPopup.className=this.m_oPopup.className),this.m_oImagePopup=null,this.m_bPopupPersoOK=this.m_oPopup!=null,this.m_bPopupPersoOK&&(this.m_oImagePopup=document.getElementById(o),this.m_bPopupPersoOK=this.m_oImagePopup!=null),this.m_bPopupPersoOK&&SetVisible(this.m_oImagePopup,!1),this.m_bPopupPerso=s&&this.m_bPopupPersoOK,this.m_oParentImagePopup=this.m_bPopupPersoOK?this.oParentImage(this.m_oImagePopup,!0):null,this.m_oParentImagePopup!=null&&WDAnimSurImage.prototype.sBalise(this.m_oParentImagePopup)=="div"&&this.m_oParentImagePopup.parentNode!=null&&WDAnimSurImage.prototype.sBalise(this.m_oParentImagePopup.parentNode)=="div"&&(this.m_oParentImagePopup=this.m_oParentImagePopup.parentNode),this.m_nParamLargeurZoom=i,this.m_nParamHauteurZoom=r,this.m_bPopupNonPerso=this.m_bPopupPersoOK&&!this.m_bPopupPerso,this.m_bPopupNonPerso&&this.m_oParentImage.parentNode.appendChild(this.m_oPopup.parentNode.removeChild(this.m_oPopup)),this.m_oZoom=oCreerDivSuperposable(this.m_bPopupPersoOK?this.m_oImagePopup.parentNode:document.body,!0,!this.m_bPopupPersoOK),this.m_bPopupPersoOK||(this.m_oPopup=this.m_oZoom,this.m_oZoom.style.border="solid 1px",WDAnimSurImage.prototype.SetLargeur(this.m_oZoom,0),WDAnimSurImage.prototype.SetHauteur(this.m_oZoom,0)),this.m_oLoupe=oCreerDivSuperposable(this.m_oLimite,!0,!0),this.m_oImageLoupe=new Image,WDAnimSurImage.prototype.CopieProtectionCopie(this.m_oObjet,this.m_oImageLoupe),this.m_oLoupe.appendChild(this.m_oImageLoupe),this.m_bVignette){for(c=this.m_oObjet,a=!1;c!=null&&c!=this.m_oParentImage&&!a;)WDAnimSurImage.prototype.sBalise(c)!="a"?a=!0:c=c.parentNode;a&&(this.m_oImageLoupe.onclick=function(){if(c.click!=null)c.click();else if(document.createEvent!=null){var n=document.createEvent("MouseEvents");n.initEvent("click",!0,!0);c.dispatchEvent(n)}})}for(WDAnimSurImage.prototype.SetSuperposable(this.m_oImageLoupe),this.m_nZoom=t,this.m_sSourceImage="",this.InitImage(),this.m_nPosition=u,this.m_bAffiche=!1,this.m_nTimer=null,l=this,this.m_pfCallTimer=function(){l.TimerAffiche()},this.m_pfCallMouseMove=function(n){l.OnMouseMove(n||event)},this.m_pfCallMouseOut=function(n){l.OnMouseOut(n||event)},this.m_pfCallMouseWheel=function(n){l.OnMouseWheel(n||event)},this.m_oTabObjetSouris=[this.m_oObjet,this.m_oLimite,this.m_oLoupe,this.m_oImageLoupe],h=0,h=0;h<this.m_oTabObjetSouris.length;h++)this.m_oTabObjetSouris[h].onmousemove=this.m_pfCallMouseMove,this.m_oTabObjetSouris[h].onmouseout=this.m_pfCallMouseOut,this.m_oTabObjetSouris[h].onmousewheel===undefined&&this.m_oTabObjetSouris[h].addEventListener!=null?this.m_oTabObjetSouris[h].addEventListener("DOMMouseScroll",this.m_pfCallMouseWheel,!1):this.m_oTabObjetSouris[h].onmousewheel=this.m_pfCallMouseWheel;this.m_oLimite!=null&&this.m_oLimite.style!=null&&this.m_oLimite.style.pointerEvents!=null&&(this.m_oLimite.style.pointerEvents="none");this.OnMouseOut()}function WDAnimSurPopup(n,t,i,r,u,f,e,o,s){n&&(this.m_oCibleExterne=i,this.m_oCible=t,this.m_oPopup=n,this.m_oPopupPrecedente=f,this.m_oDocument=e,this.m_sAliasCible=r,this.m_sCibleExterneHeight=i.style.height,this.m_sCibleExterneOverflowY=i.style.overflowY,this.m_sCiblePosition=t.style.position,this.m_sPopupPosition=n.style.position,this.m_sPopupZIndex=n.style.zIndex,i.style.height=u+"px",i.style.overflowY="hidden",t.style.position="relative",f.style.position="absolute",f.style.zIndex=this.__nGetZIndex(o,!0),n.style.position="absolute",n.style.zIndex=this.__nGetZIndex(o,!1),f.style.visibility="inherit",n.style.visibility="inherit",clWDUtil.SetDisplay(f,!0),clWDUtil.SetDisplay(n,!0),WDAnim.prototype.constructor.apply(this,[this.__pfGetAvancement(o),0,this.__nGetDeplacement(o,i),0,this.ms_nCourbeLineaire,s,r]),this.ms_tabAnimSurPopup.push(this))}function WDGesture(n,t,i,r,u,f,e){var s,o,h;this.m_oObjet=document.getElementById(n);this.m_oGesture=WDGestureEvenement(this.m_oObjet,{drag_min_distance:0,prevent_default:!0,transform_always_block:!0,swipe_velocity:.03});this.m_bZoom=t;this.m_nZoomMax=-1;this.m_nX=0;this.m_nY=0;this.m_nLargeur=WDAnimSurImage.prototype.GetLargeur(this.m_oObjet);this.m_nHauteur=WDAnimSurImage.prototype.GetHauteur(this.m_oObjet);this.m_nEchelle=1;this.m_nDirection=0;this.m_nDistance=0;this.m_nVitesse=0;this.m_nNbPointeur=0;this.m_nIndicePointeurEnCours=0;this.m_nXEcran=0;this.m_nYEcran=0;this.m_nXClient=0;this.m_nYClient=0;this.m_nXObjet=0;this.m_nYObjet=0;this.m_nXImage=0;this.m_nYImage=0;this.m_oTabPointeur=null;this.InitChangement();this.m_oObjet!=null&&(s=this.m_oObjet.parentNode,WDAnimSurImage.prototype.bClip(s)?this.m_oDivLimite=s:(this.m_oDivLimite=oCreerDivSuperposable(this.m_oObjet.parentNode,!0,!1,!0),this.m_oDivLimite.appendChild(this.m_oObjet),WDAnimSurImage.prototype.SetLargeur(this.m_oDivLimite,this.m_nLargeur),WDAnimSurImage.prototype.SetHauteur(this.m_oDivLimite,this.m_nHauteur)));this.m_nLargeurAffichage=WDAnimSurImage.prototype.GetLargeur(this.m_oDivLimite);this.m_nHauteurAffichage=WDAnimSurImage.prototype.GetHauteur(this.m_oDivLimite);WDGesture.prototype.goGesture=this;o=this;this.m_oGesture.on("drag",function(n){if(o.bExecuteCallbackSouris(n,u)){var t=o.oEvenementGesture(n);u(n,o.nDeplacementEvenementVersDeplacementWL(t.deltaX),o.nDeplacementEvenementVersDeplacementWL(t.deltaY))}});this.m_oGesture.on("swipe",function(n){if(o.bExecuteCallbackSouris(n,f)){var t=o.oEvenementGesture(n);f(n,o.nVitesseEvenementVersVitesseWL(t.velocityX),o.nVitesseEvenementVersVitesseWL(t.velocityY))}});this.m_oGesture.on("release",function(){o.InitChangement()});if(t){h=new Image;h.onload=function(){var n=this.width;n>0&&(o.m_nZoomMax=n*i/o.m_nLargeur)};h.src=this.m_oObjet.src;this.m_oGesture.on("transform",function(n){var r=o.oEvenementGesture(n),i,u,t;r!=null&&(i=r.scale,o.m_nEchelle=Math.max(1,o.m_nEchelle*i/o.m_nChangementEchelle),o.m_nZoomMax>0&&o.m_nEchelle>o.m_nZoomMax&&(o.m_nEchelle=o.m_nZoomMax),o.m_nChangementEchelle=i,o.MajDeplacement(n),e!=null&&(u=0,t=o.m_oTabPointeur,t!=null&&t.length>1&&(o.m_nDistance=Math.round(Math.sqrt(o.nCarreDiffCoord(t[0].pageX,t[1].pageX)+o.nCarreDiffCoord(t[0].pageY,t[1].pageY)))),e(n,o.m_nDistance)))});if(r)this.m_oGesture.on("doubletap",function(n){o.m_nEchelle=o.m_nEchelle>1?1:o.m_nZoomMax>0?o.m_nZoomMax:2;o.MajDeplacement(n)})}}var WDAnimSurImage=function(){function n(n,t,i,c,l,w,g,nt,tt){var ft,et,ot,st,ht,rt,vt,kt,yt,gt,ct,pt,lt,ti,ut;if(n!==undefined){while(c==yi)c=r(vi,li);c==fr?c=r(fi,ei):c==vr?c=r(k,dt):c==ar&&(c=r(oi,hi));this.m_oBaliseImg=n;this.m_nOpaciteDebut=i;this.m_bPremierAffichage=tt;this.m_nX=this.GetX(n);this.m_nY=this.GetY(n);ft=clWDUtil.oGetCurrentStyle(n);this.m_nLargeur=this.GetLargeur(n)-(parseFloat(ft.paddingLeft)-parseFloat(ft.paddingRight));this.m_nHauteur=this.GetHauteur(n)-(parseFloat(ft.paddingTop)+parseFloat(ft.paddingBottom));this.m_nCourbe=l;this.m_nDuree=w;this.m_nType=c;this.m_sTransition=d(n);this.m_sAliasChamp=nt;et=n.parentNode;this.m_nLargeurVisible=this.GetLargeur(et);this.m_nHauteurVisible=this.GetHauteur(et);var wt=pr(c),it=ni[nt],bt=wr(c);if(bt&&!it&&(it=ni[nt]=new WDDiapo),this.m_oDiapo=it,it&&it.m_oDiv?this.m_oDiv=it.m_oDiv:(clWDUtil.oGetCurrentStyle(et).position=="static"&&(et.style.position="relative"),this.m_oDiv=document.createElement("div"),this.SetSuperposable(this.m_oDiv),this.m_oDiv.style.overflow="hidden",this.AjoutFrere(this.m_oDiv),it&&(it.m_oDiv=this.m_oDiv)),this.SetX(this.m_oDiv,this.m_nX),this.SetY(this.m_oDiv,this.m_nY),this.SetLargeur(this.m_oDiv,this.m_nLargeur),this.SetHauteur(this.m_oDiv,this.m_nHauteur),this.m_oDiv.style.padding=ft.padding,ot=!this.bTypeBoite(c),ot)this.m_oBaliseImgTemp=this.oAjoutImageTemp(n,t,i,c,this.bImageTempFrere(c));else{switch(this.m_nType){case b:this.m_nNbLigne=1;this.m_nNbColonne=2;break;case h:this.m_nNbLigne=2;this.m_nNbColonne=1;break;case a:case y:this.m_nNbLigne=5;this.m_nNbColonne=1;break;case v:case p:this.m_nNbLigne=1;this.m_nNbColonne=5;break;case s:this.m_nNbLigne=1;this.m_nNbColonne=1;break;default:this.m_nNbLigne=5;this.m_nNbColonne=5}this.m_nNbBoite=this.m_nNbLigne*this.m_nNbColonne;this.m_nLargeurBoite=this.m_nLargeur/this.m_nNbColonne;this.m_nHauteurBoite=this.m_nHauteur/this.m_nNbLigne;var at=this.m_oDiv,si=this.GetX(at),ai=this.GetY(at);for(this.m_tabBoite=[],st=0;st<this.m_nNbLigne;st++)for(ht=0;ht<this.m_nNbColonne;ht++){rt=oCreerDivSuperposable(at,!1,!1,!0);this.m_tabBoite.push(rt);vt=ht*this.m_nLargeurBoite;kt=si+vt;this.SetX(rt,kt);yt=st*this.m_nHauteurBoite;gt=ai+yt;this.SetY(rt,gt);this.SetLargeur(rt,this.m_nLargeurBoite);this.SetHauteur(rt,this.m_nHauteurBoite);try{rt.style.backgroundImage="url("+this.m_oBaliseImg.src+")";rt.style.backgroundSize=this.m_nLargeur+"px "+this.m_nHauteur+"px"}catch(pi){}rt.style.backgroundPosition=-vt+"px "+-yt+"px";this.SetOpacite(rt,this.m_nOpaciteDebut)}}if(ct=c!=u&&(!bSfr||c==f||c>o)&&d(ot?this.m_oBaliseImgTemp:this.m_oDiv)!=null,this.m_nDistance=w/4,pt=it&&it.m_oImgTempFin,pt&&(this.SetX(this.m_oBaliseImgTemp,this.GetX(it.m_oImgTempFin)),this.SetY(this.m_oBaliseImgTemp,this.GetY(it.m_oImgTempFin)),this.SetLargeur(this.m_oBaliseImgTemp,this.GetLargeur(it.m_oImgTempFin)),this.SetHauteur(this.m_oBaliseImgTemp,this.GetHauteur(it.m_oImgTempFin)),bIEQuirks9Max&&(this.m_oBaliseImgTemp.style.filter=it.m_oImgTempFin.style.filter)),this.m_oBaliseImgTempFin=null,wt&&(this.m_oBaliseImgTempFin=this.oAjoutImageTemp(n,g,i,c)),it&&(pt&&(it.m_oDiv.removeChild(it.m_oImgTempFin),delete it.m_oImgTempFin,it.m_oCanva!=null&&(it.m_oDiv.removeChild(it.m_oCanva),delete it.m_oCanva)),bt?it.m_oImgTempFin=this.m_oBaliseImgTempFin:(delete it,delete ni[nt],this.m_oDiapo=null)),ot&&SetVisible(this.m_oBaliseImgTemp,!0),lt=!0,this.m_sVisibilite=null,wt){this.m_sVisibilite=this.GetVisibilite(n);this.SetVisibilite(n,"hidden");switch(c){case ui:case ri:this.SetX(this.m_oBaliseImgTempFin,this.m_nX-Math.max(0,(this.m_nLargeur-this.m_nLargeurVisible)/2));break;case k:case ii:this.SetY(this.m_oBaliseImgTempFin,this.m_nY-Math.max(0,(this.m_nHauteur-this.m_nHauteurVisible)/2));break;case ci:this.InitZone();break;case u:ct||(this.m_oCanva=document.createElement("canvas"),n.title&&(this.m_oCanva.title=n.title),this.m_oCanva!=null&&this.m_oCanva.getContext!=null&&(this.m_oDC=this.m_oCanva.getContext("2d")),this.m_oDC&&(this.SetSuperposable(this.m_oCanva),this.m_oDiv.appendChild(this.m_oCanva),it&&(it.m_oCanva=this.m_oCanva),this.SetOpacite(this.m_oCanva,i),this.SetX(this.m_oCanva,this.m_nX),this.SetY(this.m_oCanva,this.m_nY),SetVisible(this.m_oBaliseImgTempFin,!1)));this.bImageCharge(this.m_oBaliseImgTempFin)?this.InitDimImageTempFin():(ti=l,ut=this,this.m_oBaliseImgTempFin.onload=function(){ut.m_oBaliseImgTempFin.onload=null;ut.InitDimImageTempFin();ct?ut.InitTransition():WDAnim.prototype.constructor.apply(ut,[ut._fGetAnimFonction(ut.m_nType),0,e,ut.m_nType,ti,ut.m_nDuree,ut.m_sAliasChamp])},lt=!1)}lt&&SetVisible(this.m_oBaliseImgTempFin,!0)}f==c&&this.SetOpacite(n,0);lt&&(ct?this.InitTransition():WDAnim.prototype.constructor.apply(this,[this._fGetAnimFonction(c),0,e,c,l,w,nt]))}}function r(n,t,i){var r=n+Math.random()*(t-n);return i?r:Math.round(r)}function i(n,t){return t*n/e}function t(n,t){return i(ti(n),t)}function ti(n){return e-n}function d(n){if(n){var t=n.style;if(t)return t.transition||t.msTransition||t.webkitTransition||t.mozTransition||t.oTransition||null}return null}function pr(n){return n>f&&n<o||n==u||n>li&&n<=yr}function ai(n){return n>=k&&n<=dt}function wr(n){return ai(n)||n==u}var vi=1,f=1,g=2,nt=3,tt=4,it=5,rt=6,ut=7,ft=8,et=9,c=10,ot=11,o=12,st=13,yi=14,u=15,ht=16,ct=17,lt=18,at=19,l=20,pi=l,vt=21,yt=22,pt=23,wt=24,bt=25,kt=26,a=27,v=28,y=29,p=30,w=31,s=32,b=33,h=34,wi=h,k=130,ii=131,ri=132,ui=133,bi=134,ki=135,di=136,dt=137,fi=138,gi=139,nr=140,tr=141,ir=142,rr=143,ur=144,ei=145,fr=146,oi=147,si=148,er=149,or=150,sr=151,hr=152,cr=153,lr=154,hi=155,ar=156,ci=157,vr=158,yr=158,li=34;n.prototype.ms_nTypeMouvementAutomatique=u;var e=1e3,gt=1,ni={};return n.prototype=new WDAnim,n.prototype.constructor=n,n.prototype.ms_oAnimations={},n.prototype.InitDimImageTempFin=function(){if(!this.m_oDC&&bIEQuirks9Max?this.m_oBaliseImgTempFin.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)":this.SetOpacite(this.m_oBaliseImgTempFin,0),SetVisible(this.m_oBaliseImgTempFin,!0),this.bImageCharge(this.m_oBaliseImgTempFin)&&(this.m_nLargeur=this.GetLargeur(this.m_oBaliseImgTempFin),this.m_nHauteur=this.GetHauteur(this.m_oBaliseImgTempFin)),this.SetLargeur(this.m_oDiv,this.m_nLargeur),this.SetHauteur(this.m_oDiv,this.m_nHauteur),this.InitZone(),this.InitZone(!0),this.m_oDC){this.SetLargeur(this.m_oCanva,this.m_nLargeur);this.SetHauteur(this.m_oCanva,this.m_nHauteur);this.m_oCanva.width=this.m_nLargeur;this.m_oCanva.height=this.m_nHauteur;try{this.m_oDC.drawImage(this.m_oBaliseImgTempFin,this.GetX(this.m_oBaliseImgTempFin)-this.m_nX,this.GetY(this.m_oBaliseImgTempFin)-this.m_nY,this.GetLargeur(this.m_oBaliseImgTempFin),this.GetHauteur(this.m_oBaliseImgTempFin))}catch(n){}}},n.prototype.nInitZoneCoord=function(n,t,i,u){return r(u!=null?u:0,n*t)*i},n.prototype.InitZone1=function(n){var h=r(.8,.9,!0),i=1-h,u=1/h,c=u-1,f,e,t,s;if(n?this.m_nZoomFin=c:this.m_nZoom=c,f=this.nInitZoneCoord(this.m_nLargeur,i,u),n?this.m_nXFin=f:this.m_nXDepart=f,e=0,n&&(t=.05*Math.min(this.m_nLargeur,this.m_nHauteur)-Math.abs(this.m_nZoom-this.m_nZoomFin)*(this.m_nLargeur+this.m_nHauteur)-Math.abs(this.m_nXDepart-this.m_nXFin),t>0)){var o=this.m_nYDepart/(1+this.m_nZoom),l=o-t,a=i*this.m_nHauteur,v=a-o-t;l>v?i=l/this.m_nHauteur:e=(o+t)/this.m_nHauteur}s=this.nInitZoneCoord(this.m_nHauteur,i,u,e);n?this.m_nYFin=s:this.m_nYDepart=s},n.prototype.InitZone2=function(n){var o=r(.8,.9,!0),f=1-o,i=1/o,s=i-1,e,t,u;if(n?this.m_nZoomFin=s:this.m_nZoom=s,e=this.nInitZoneCoord(this.m_nLargeur,f,i),n?this.m_nXFin=e:this.m_nXDepart=e,n)if(t=this.m_nDistance-Math.abs((this.m_nZoomFin-this.m_nZoom)*(this.m_nLargeur+this.m_nHauteur)/2+(this.m_nXDepart-this.m_nXFin)),u=f*this.m_nHauteur,t>0){var h=this.m_nYDepart/(1+this.m_nZoom),c=h-t,l=u-h-t;this.m_nYFin=c>l?Math.max(c,0):Math.min(this.m_nYDepart+t,u)}else this.m_nYFin=Math.min(this.m_nYDepart,u*i);else this.m_nYDepart=this.nInitZoneCoord(this.m_nHauteur,f,i)},n.prototype.InitZone3=function(n){var e=.9,h,a,v,s;n&&(h=Math.sqrt(Math.pow(this.m_nLargeur,2)+Math.pow(this.m_nHauteur,2)),e=Math.min(e,(this.m_nDistance+h)/h));var c=r(e-.1,e,!0),o=1-c,f=1/c,l=f-1;if(n){this.m_nZoomFin=l;var u=this.m_nDistance,t=Math.acos(Math.max(Math.min(this.m_nXDepart/u,1),-1)),i=Math.acos(Math.max(Math.min((this.m_nXDepart-o*f*this.m_nLargeur)/u,1),-1)),y=Math.min(t,i),p=Math.max(t,i);t=Math.asin(Math.max(Math.min(-this.m_nYDepart/u,1),-1));i=Math.asin(Math.max(Math.min((o*f*this.m_nHauteur-this.m_nYDepart)/u,1),-1));a=Math.min(t,i);v=Math.max(t,i);t=Math.max(y,a);i=Math.min(p,v);s=0;t>i?(this.m_nXFin=0,this.m_nYFin=0):(s=r(t,i,!0),this.m_nXFin=this.m_nXDepart-u*Math.cos(s),this.m_nYFin=this.m_nYDepart+u*Math.sin(s))}else this.m_nZoom=l,this.m_nXDepart=this.nInitZoneCoord(this.m_nLargeur,o,f),this.m_nYDepart=this.nInitZoneCoord(this.m_nHauteur,o,f)},n.prototype.InitZone4=function(n){var s=r(.8,.9,!0),i=1-s,t=1/s,h=t-1,u,f,e,o;n?this.m_nZoomFin=h:this.m_nZoom=h;u=0;f=i;n&&this.m_nZoomFin!=this.m_nZoom&&(this.m_nZoomFin>this.m_nZoom?f=Math.min(i,this.m_nXDepart/t/this.m_nLargeur):u=Math.min(i*this.m_nLargeur*t,this.m_nXDepart)/t);e=this.nInitZoneCoord(this.m_nLargeur,f,t,u);n?this.m_nXFin=e:this.m_nXDepart=e;n&&this.m_nZoomFin!=this.m_nZoom?this.m_nZoomFin>this.m_nZoom?f=Math.min(i,this.m_nYDepart/t/this.m_nHauteur):u=Math.min(i*this.m_nHauteur*t,this.m_nYDepart)/t:(u=0,f=i);o=this.nInitZoneCoord(this.m_nHauteur,f,t,u);n?this.m_nYFin=o:this.m_nYDepart=o},n.prototype.InitZone=function(n){var f=r(.8,.9,!0),e=1-f,t=1/f,o=t-1,i,u;n?this.m_nZoomFin=o:this.m_nZoom=o;i=this.nInitZoneCoord(this.m_nLargeur,e,t);n?this.m_nXFin=i:this.m_nXDepart=i;u=this.nInitZoneCoord(this.m_nHauteur,e,t);n?this.m_nYFin=u:this.m_nYDepart=u},n.prototype.InitZone5=function(n){n?(this.m_nZoomFin=.24223918141145928,this.m_nXFin=27.329261991052103,this.m_nYFin=1.2422391814114593):(this.m_nZoom=.23311965686232106,this.m_nXDepart=28.361752107833386,this.m_nYDepart=19.729914509797137)},n.prototype.InitTransition=function(){var k,dt,gt,t;switch(this.m_nType){case f:this.SetOpacite(this.m_oBaliseImgTemp,this.m_nOpaciteDebut);this.SetOpacite(this.m_oBaliseImg,0);break;case nt:this.SetY(this.m_oBaliseImgTemp,this.m_nY);this.SetY(this.m_oBaliseImgTempFin,this.m_nY+this.m_nHauteur);break;case g:this.SetY(this.m_oBaliseImgTemp,this.m_nY);this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this.m_nHauteur);break;case rt:this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this.m_nHauteur);break;case ut:this.SetY(this.m_oBaliseImgTempFin,this.m_nY+this.m_nHauteur);break;case it:this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetX(this.m_oBaliseImgTempFin,this.m_nX+this.m_nLargeur);break;case tt:this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this.m_nLargeur);break;case ft:this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this.m_nLargeur);break;case et:this.SetX(this.m_oBaliseImgTempFin,this.m_nX+this.m_nLargeur);break;case c:this.SetX(this.m_oDiv,this.m_nX+this.m_nLargeur/2);this.SetY(this.m_oDiv,this.m_nY+this.m_nHauteur/2);this.SetLargeur(this.m_oDiv,0);this.SetHauteur(this.m_oDiv,0);this.SetX(this.m_oBaliseImgTempFin,this.m_nX);this.SetY(this.m_oBaliseImgTempFin,this.m_nY);break;case ot:this.SetLargeur(this.m_oBaliseImgTempFin,0);this.SetHauteur(this.m_oBaliseImgTempFin,0);this.SetX(this.m_oBaliseImgTempFin,this.m_nX+this.m_nLargeur/2);this.SetY(this.m_oBaliseImgTempFin,this.m_nY+this.m_nHauteur/2);break;case o:this.SetX(this.m_oDiv,this.m_nX);this.SetY(this.m_oDiv,this.m_nY);this.SetLargeur(this.m_oDiv,this.m_nLargeur);this.SetHauteur(this.m_oDiv,this.m_nHauteur);this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY);break;case st:this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY);this.SetLargeur(this.m_oBaliseImgTemp,this.m_nLargeur);this.SetHauteur(this.m_oBaliseImgTemp,this.m_nHauteur);break;case ht:case ct:case lt:case at:this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY);break;case u:this.SetLargeur(this.m_oBaliseImgTempFin,this.m_nLargeur*(1+this.m_nZoom));this.SetHauteur(this.m_oBaliseImgTempFin,this.m_nHauteur*(1+this.m_nZoom));this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this.m_nXDepart);this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this.m_nYDepart);break;default:if(this.bTypeBoite(this.m_nType)){for(k=0,dt=0;dt<this.m_nNbLigne;dt++)for(gt=0;gt<this.m_nNbColonne;gt++){var n=this.m_tabBoite[k],i=this.GetX(n),e=this.GetY(n);switch(this.m_nType){case l:this.SetTransition(n,null,-1);this.SetOpacite(n,0);break;case yt:this.SetTransition(n,null,-1);this.SetOpacite(n,0);this.SetX(n,i+this.m_nLargeurBoite*(r(0,1)>0?1:-1));this.SetY(n,e+this.m_nHauteurBoite*(r(0,1)>0?1:-1));break;case pt:this.SetTransition(n,null,-1);this.SetOpacite(n,0);this.SetX(n,i-this.m_nLargeurBoite);this.SetY(n,e-this.m_nHauteurBoite);break;case wt:this.SetTransition(n,null,-1);this.SetOpacite(n,0);this.SetX(n,i+this.m_nLargeurBoite);this.SetY(n,e-this.m_nHauteurBoite);break;case bt:this.SetTransition(n,null,-1);this.SetOpacite(n,0);this.SetX(n,i-this.m_nLargeurBoite);this.SetY(n,e+this.m_nHauteurBoite);break;case kt:this.SetTransition(n,null,-1);this.SetOpacite(n,0);this.SetX(n,i+this.m_nLargeurBoite);this.SetY(n,e+this.m_nHauteurBoite);break;case vt:this.SetTransition(n,null,k/this.m_nNbBoite*this.m_nDuree);this.SetOpacite(n,0);break;case a:this.SetTransition(n);this.SetOpacite(n,0);this.SetX(n,i+(dt%2==0?1:-1)*this.m_nLargeurBoite);break;case v:this.SetTransition(n);this.SetOpacite(n,0);this.SetY(n,e+(gt%2==0?1:-1)*this.m_nHauteurBoite);break;case y:this.SetTransition(n,null,k/this.m_nNbBoite*this.m_nDuree);this.SetOpacite(n,0);break;case p:this.SetTransition(n,null,k/this.m_nNbBoite*this.m_nDuree);this.SetOpacite(n,0);break;case b:this.SetTransition(n);this.SetX(n,i+(gt>0?1:-1)*this.m_nLargeurBoite);break;case h:this.SetTransition(n);this.SetY(n,e+(dt>0?1:-1)*this.m_nHauteurBoite);break;default:this.SetTransition(n)}k++}switch(this.m_nType){case w:case s:t=this;setTimeout(function(){for(var n,i=0;i<t.m_tabBoite.length;i++){n=t.m_tabBoite[i];switch(t.m_nType){case w:t.SetLargeur(n,0);t.SetHauteur(n,0);break;case s:t.SetTransform(n,"rotate(360deg)");t.SetLargeur(n,0);t.SetHauteur(n,0)}}},1)}}}this.SetTransition(this.m_oBaliseImg);this.SetTransition(this.m_oBaliseImgTemp);this.SetTransition(this.m_oBaliseImgTempFin);this.SetTransition(this.m_oDiv);switch(this.m_nType){case f:this.SetOpacite(this.m_oBaliseImgTemp,0);this.SetOpacite(this.m_oBaliseImg,this.m_nOpaciteDebut);break;case nt:this.SetY(this.m_oBaliseImgTemp,this.m_nY-this.m_nHauteur);this.SetY(this.m_oBaliseImgTempFin,this.m_nY);break;case g:this.SetY(this.m_oBaliseImgTemp,this.m_nY+this.m_nHauteur);this.SetY(this.m_oBaliseImgTempFin,this.m_nY);break;case rt:case ut:this.SetY(this.m_oBaliseImgTempFin,this.m_nY);break;case it:this.SetX(this.m_oBaliseImgTemp,this.m_nX-this.m_nLargeur);this.SetX(this.m_oBaliseImgTempFin,this.m_nX);break;case tt:this.SetX(this.m_oBaliseImgTemp,this.m_nX+this.m_nLargeur);this.SetX(this.m_oBaliseImgTempFin,this.m_nX);break;case ft:case et:this.SetX(this.m_oBaliseImgTempFin,this.m_nX);break;case c:this.SetX(this.m_oDiv,this.m_nX);this.SetY(this.m_oDiv,this.m_nY);this.SetLargeur(this.m_oDiv,this.m_nLargeur);this.SetHauteur(this.m_oDiv,this.m_nHauteur);this.SetX(this.m_oBaliseImgTempFin,this.m_nX+this.m_nLargeur/2);this.SetY(this.m_oBaliseImgTempFin,this.m_nY+this.m_nHauteur/2);break;case ot:this.SetLargeur(this.m_oBaliseImgTempFin,this.m_nLargeur);this.SetHauteur(this.m_oBaliseImgTempFin,this.m_nHauteur);this.SetX(this.m_oBaliseImgTempFin,this.m_nX);this.SetY(this.m_oBaliseImgTempFin,this.m_nY);break;case o:this.SetX(this.m_oDiv,this.m_nX+this.m_nLargeur/2);this.SetY(this.m_oDiv,this.m_nY+this.m_nHauteur/2);this.SetLargeur(this.m_oDiv,0);this.SetHauteur(this.m_oDiv,0);this.SetX(this.m_oBaliseImgTemp,this.m_nX-this.m_nLargeur/2);this.SetY(this.m_oBaliseImgTemp,this.m_nY-this.m_nHauteur/2);break;case st:this.SetX(this.m_oBaliseImgTemp,this.m_nX+this.m_nLargeur/2);this.SetY(this.m_oBaliseImgTemp,this.m_nY+this.m_nHauteur/2);this.SetLargeur(this.m_oBaliseImgTemp,0);this.SetHauteur(this.m_oBaliseImgTemp,0);break;case ht:this.SetLargeur(this.m_oDiv,0);this.SetHauteur(this.m_oDiv,0);break;case ct:this.SetX(this.m_oDiv,this.m_nX+this.m_nLargeur);this.SetX(this.m_oBaliseImgTemp,this.m_nX-this.m_nLargeur);this.SetLargeur(this.m_oDiv,0);this.SetHauteur(this.m_oDiv,0);break;case lt:this.SetY(this.m_oDiv,this.m_nY+this.m_nHauteur);this.SetY(this.m_oBaliseImgTemp,this.m_nY-this.m_nHauteur);this.SetLargeur(this.m_oDiv,0);this.SetHauteur(this.m_oDiv,0);break;case at:this.SetX(this.m_oDiv,this.m_nX+this.m_nLargeur);this.SetX(this.m_oBaliseImgTemp,this.m_nX-this.m_nLargeur);this.SetY(this.m_oDiv,this.m_nY+this.m_nHauteur);this.SetY(this.m_oBaliseImgTemp,this.m_nY-this.m_nHauteur);this.SetLargeur(this.m_oDiv,0);this.SetHauteur(this.m_oDiv,0);break;case u:this.SetTransition(this.m_oBaliseImgTempFin,d(this.m_oBaliseImgTempFin)+",opacity "+this.m_nDuree/300+"s");this.SetLargeur(this.m_oBaliseImgTempFin,this.m_nLargeur*(1+this.m_nZoomFin));this.SetHauteur(this.m_oBaliseImgTempFin,this.m_nHauteur*(1+this.m_nZoomFin));this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this.m_nXFin);this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this.m_nYFin);this.SetOpacite(this.m_oBaliseImgTempFin,this.m_nOpaciteDebut)}t=this;this.m_nTimeout=clWDUtil.nSetTimeout(function(){t.vFin()},this.m_nDuree*10)},n.prototype._fGetAnimFonction=function(n){switch(n){case f:return this._AnimFondu;case nt:return this._AnimBalayageHaut;case g:return this._AnimBalayageBas;case rt:return this._AnimRecouvrementHaut;case ut:return this._AnimRecouvrementBas;case it:return this._AnimBalayageGauche;case tt:return this._AnimBalayageDroite;case ft:return this._AnimRecouvrementGauche;case et:return this._AnimRecouvrementDroite;case c:return this._AnimRecouvrement;case ot:return this._AnimRecouvrementZoom;case o:return this._AnimDecouvrement;case st:return this._AnimDecouvrementZoom;case ht:return this._AnimDecouvrementHautGauche;case ct:return this._AnimDecouvrementHautDroite;case lt:return this._AnimDecouvrementBasGauche;case at:return this._AnimDecouvrementBasDroite;case si:case ri:return this._AnimDeplacementHaut;case ui:return this._AnimDeplacementBas;case k:return this._AnimDeplacementGauche;case ii:return this._AnimDeplacementDroite;case bi:return this._AnimDeplacementHautGauche;case ki:return this._AnimDeplacementHautDroite;case di:return this._AnimDeplacementBasGauche;case dt:return this._AnimDeplacementBasDroite;case si:return this._AnimDezoomDroite;case oi:return this._AnimDezoomGauche;case or:return this._AnimDezoomBas;case er:return this._AnimDezoomHaut;case lr:return this._AnimDezoomBasDroite;case sr:return this._AnimDezoomHautGauche;case cr:return this._AnimDezoomBasGauche;case hr:return this._AnimDezoomHautDroite;case hi:return this._AnimDezoomCentre;case fi:return this._AnimDeplacementDezoomGauche;case gi:return this._AnimDeplacementDezoomDroite;case nr:return this._AnimDeplacementDezoomHaut;case tr:return this._AnimDeplacementDezoomBas;case ir:return this._AnimDeplacementDezoomHautGauche;case rr:return this._AnimDeplacementDezoomHautDroite;case ur:return this._AnimDeplacementDezoomBasGauche;case ei:return this._AnimDeplacementDezoomBasDroite;case ci:return this._AnimDezoomPanoramique;case u:return this._AnimDezoomDeplacement;default:return this.bTypeBoite(n)?this.__AnimBoite:undefined}},n.prototype._AnimFondu=function(n){this.SetOpacite(this.m_oBaliseImg,i(n,this.m_nOpaciteDebut));this.SetOpacite(this.m_oBaliseImgTemp,t(n,this.m_nOpaciteDebut))},n.prototype._AnimBalayageHaut=function(n){this.__AnimBalayageVertical(n,!1)},n.prototype._AnimBalayageBas=function(n){this.__AnimBalayageVertical(n,!0)},n.prototype.__AnimBalayageVertical=function(n,t){this.SetY(this.m_oBaliseImgTemp,this.m_nY+i(n,this.m_nHauteur)*(t?1:-1));this.__AnimRecouvrementVertical(n,!t)},n.prototype._AnimRecouvrementHaut=function(n){this.__AnimRecouvrementVertical(n,!1)},n.prototype._AnimRecouvrementBas=function(n){this.__AnimRecouvrementVertical(n,!0)},n.prototype.__AnimRecouvrementVertical=function(n,i){this.SetY(this.m_oBaliseImgTempFin,this.m_nY+t(n,this.m_nHauteur)*(i?1:-1))},n.prototype._AnimBalayageGauche=function(n){this.__AnimBalayageHorizontal(n,!1)},n.prototype._AnimBalayageDroite=function(n){this.__AnimBalayageHorizontal(n,!0)},n.prototype.__AnimBalayageHorizontal=function(n,t){this.SetX(this.m_oBaliseImgTemp,this.m_nX+i(n,this.m_nLargeur)*(t?1:-1));this.__AnimRecouvrementHorizontal(n,!t)},n.prototype._AnimRecouvrementGauche=function(n){this.__AnimRecouvrementHorizontal(n,!1)},n.prototype._AnimRecouvrementDroite=function(n){this.__AnimRecouvrementHorizontal(n,!0)},n.prototype.__AnimRecouvrementHorizontal=function(n,i){this.SetX(this.m_oBaliseImgTempFin,this.m_nX+t(n,this.m_nLargeur)*(i?1:-1))},n.prototype._AnimRecouvrement=function(n){this.__AnimXXcouvrementInterne(ti(n),this.m_oDiv);this.SetX(this.m_oBaliseImgTempFin,this.m_nX);this.SetY(this.m_oBaliseImgTempFin,this.m_nY)},n.prototype._AnimRecouvrementZoom=function(n){this.__AnimXXcouvrementInterne(ti(n),this.m_oBaliseImgTempFin)},n.prototype._AnimDecouvrement=function(n){this.__AnimXXcouvrementInterne(n,this.m_oDiv);this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY)},n.prototype._AnimDecouvrementZoom=function(n){this.__AnimXXcouvrementInterne(n,this.m_oBaliseImgTemp)},n.prototype._AnimDecouvrementHautGauche=function(n){this.SetLargeur(this.m_oDiv,t(n,this.m_nLargeur));this.SetHauteur(this.m_oDiv,t(n,this.m_nHauteur));this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY)},n.prototype._AnimDecouvrementHautDroite=function(n){this.SetX(this.m_oDiv,this.m_nX+i(n,this.m_nLargeur));this.SetLargeur(this.m_oDiv,t(n,this.m_nLargeur));this.SetHauteur(this.m_oDiv,t(n,this.m_nHauteur));this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY)},n.prototype._AnimDecouvrementBasGauche=function(n){this.SetY(this.m_oDiv,this.m_nY+i(n,this.m_nHauteur));this.SetLargeur(this.m_oDiv,t(n,this.m_nLargeur));this.SetHauteur(this.m_oDiv,t(n,this.m_nHauteur));this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY)},n.prototype._AnimDecouvrementBasDroite=function(n){this.SetX(this.m_oDiv,this.m_nX+i(n,this.m_nLargeur));this.SetY(this.m_oDiv,this.m_nY+i(n,this.m_nHauteur));this.SetLargeur(this.m_oDiv,t(n,this.m_nLargeur));this.SetHauteur(this.m_oDiv,t(n,this.m_nHauteur));this.SetX(this.m_oBaliseImgTemp,this.m_nX);this.SetY(this.m_oBaliseImgTemp,this.m_nY)},n.prototype._AnimDeplacementOpacite=function(n){this.SetOpacite(this.m_oBaliseImgTempFin,i(Math.min(3*n,e),this.m_nOpaciteDebut))},n.prototype._AnimDeplacementHaut=function(n){this._AnimDeplacementOpacite(n);this.m_nHauteur>this.m_nHauteurVisible&&this.SetY(this.m_oBaliseImgTempFin,this.m_nY-t(n,this.m_nHauteur-this.m_nHauteurVisible))},n.prototype._AnimDeplacementBas=function(n){this._AnimDeplacementOpacite(n);this.m_nHauteur>this.m_nHauteurVisible&&this.SetY(this.m_oBaliseImgTempFin,this.m_nY-i(n,this.m_nHauteur-this.m_nHauteurVisible))},n.prototype._AnimDeplacementGaucheX=function(n){this.m_nLargeur>this.m_nLargeurVisible&&this.SetX(this.m_oBaliseImgTempFin,this.m_nX-t(n,this.m_nLargeur-this.m_nLargeurVisible))},n.prototype._AnimDeplacementGauche=function(n){this._AnimDeplacementOpacite(n);this._AnimDeplacementGaucheX(n)},n.prototype._AnimDeplacementDroiteX=function(n){this.m_nLargeur>this.m_nLargeurVisible&&this.SetX(this.m_oBaliseImgTempFin,this.m_nX-i(n,this.m_nLargeur-this.m_nLargeurVisible))},n.prototype._AnimDeplacementDroite=function(n){this._AnimDeplacementOpacite(n);this._AnimDeplacementDroiteX(n)},n.prototype._AnimDeplacementHautGauche=function(n){this._AnimDeplacementHaut(n);this._AnimDeplacementGaucheX(n)},n.prototype._AnimDeplacementHautDroite=function(n){this._AnimDeplacementHaut(n);this._AnimDeplacementDroiteX(n)},n.prototype._AnimDeplacementBasGauche=function(n){this._AnimDeplacementBas(n);this._AnimDeplacementGaucheX(n)},n.prototype._AnimDeplacementBasDroite=function(n){this._AnimDeplacementBas(n);this._AnimDeplacementDroiteX(n)},n.prototype._nAnimDezoomDimension=function(n,i){return t(n,i*gt)},n.prototype._nAnimDezoomLargeur=function(n){return this._nAnimDezoomDimension(n,this.m_nLargeur)},n.prototype._nAnimDezoomHauteur=function(n){return this._nAnimDezoomDimension(n,this.m_nHauteur)},n.prototype._AnimDezoomBasDroite=function(n){this._AnimDeplacementOpacite(n);this.SetLargeur(this.m_oBaliseImgTempFin,this.m_nLargeur+this._nAnimDezoomLargeur(n));this.SetHauteur(this.m_oBaliseImgTempFin,this.m_nHauteur+this._nAnimDezoomHauteur(n))},n.prototype._AnimDezoomGaucheX=function(n){this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this._nAnimDezoomLargeur(n))},n.prototype._AnimDezoomVertical=function(n){this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this._nAnimDezoomHauteur(n)/2)},n.prototype._AnimDezoomGauche=function(n){this._AnimDezoomGaucheX(n);this._AnimDezoomVertical(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDezoomDroite=function(n){this._AnimDezoomVertical(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDezoomHautY=function(n){this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this._nAnimDezoomHauteur(n))},n.prototype._AnimDezoomHorizontal=function(n){this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this._nAnimDezoomLargeur(n)/2)},n.prototype._AnimDezoomHaut=function(n){this._AnimDezoomHorizontal(n);this._AnimDezoomHautY(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDezoomBas=function(n){this._AnimDezoomHorizontal(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDezoomHautGauche=function(n){this._AnimDezoomGaucheX(n);this._AnimDezoomHautY(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDezoomBasGauche=function(n){this._AnimDezoomGaucheX(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDezoomHautDroite=function(n){this._AnimDezoomHautY(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDezoomCentre=function(n){this._AnimDezoomHorizontal(n);this._AnimDezoomVertical(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDeplacementDezoomY=function(n){this.SetY(this.m_oBaliseImgTempFin,this.m_nY-t(n,this.m_nHauteur*gt/2));this._AnimDezoomBasDroite(n)},n.prototype._AnimDeplacementDezoomX=function(n){this.SetX(this.m_oBaliseImgTempFin,this.m_nX-t(n,this.m_nLargeur*gt/2));this._AnimDezoomBasDroite(n)},n.prototype._nAnimDeplacementDezoomAngle=function(n){return Math.PI/2*(n/e)},n.prototype._AnimDeplacementDezoomGaucheX=function(n){this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this._nAnimDezoomLargeur(n)*Math.sin(this._nAnimDeplacementDezoomAngle(n)))},n.prototype._AnimDeplacementDezoomGauche=function(n){this._AnimDeplacementDezoomGaucheX(n);this._AnimDeplacementDezoomY(n)},n.prototype._AnimDeplacementDezoomDroiteX=function(n){this.SetX(this.m_oBaliseImgTempFin,this.m_nX-this._nAnimDezoomLargeur(n)*Math.cos(this._nAnimDeplacementDezoomAngle(n)))},n.prototype._AnimDeplacementDezoomDroite=function(n){this._AnimDeplacementDezoomDroiteX(n);this._AnimDeplacementDezoomY(n)},n.prototype._AnimDeplacementDezoomHautY=function(n){this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this._nAnimDezoomHauteur(n)*Math.sin(this._nAnimDeplacementDezoomAngle(n)))},n.prototype._AnimDeplacementDezoomHaut=function(n){this._AnimDeplacementDezoomX(n);this._AnimDeplacementDezoomHautY(n)},n.prototype._AnimDeplacementDezoomBasY=function(n){this.SetY(this.m_oBaliseImgTempFin,this.m_nY-this._nAnimDezoomHauteur(n)*Math.cos(this._nAnimDeplacementDezoomAngle(n)))},n.prototype._AnimDeplacementDezoomBas=function(n){this._AnimDeplacementDezoomX(n);this._AnimDeplacementDezoomBasY(n)},n.prototype._AnimDeplacementDezoomHautGauche=function(n){this._AnimDeplacementDezoomGaucheX(n);this._AnimDeplacementDezoomHautY(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDeplacementDezoomHautDroite=function(n){this._AnimDeplacementDezoomDroiteX(n);this._AnimDeplacementDezoomHautY(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDeplacementDezoomBasGauche=function(n){this._AnimDeplacementDezoomGaucheX(n);this._AnimDeplacementDezoomBasY(n);this._AnimDezoomBasDroite(n)},n.prototype._AnimDeplacementDezoomBasDroite=function(n){this._AnimDeplacementDezoomDroiteX(n);this._AnimDeplacementDezoomBasY(n);this._AnimDezoomBasDroite(n)},n.prototype.nAnimDezoomPanoramiqueCoord=function(n,i,r){return i-t(n,r)},n.prototype.nAnimDezoomPanoramiqueDimension=function(n,i){return i+t(n,i*this.m_nZoom)},n.prototype._AnimDezoomPanoramique=function(n){this.SetX(this.m_oBaliseImgTempFin,this.nAnimDezoomPanoramiqueCoord(n,this.m_nX,this.m_nXDepart));this.SetY(this.m_oBaliseImgTempFin,this.nAnimDezoomPanoramiqueCoord(n,this.m_nY,this.m_nYDepart));this.SetLargeur(this.m_oBaliseImgTempFin,this.nAnimDezoomPanoramiqueDimension(n,this.m_nLargeur));this.SetHauteur(this.m_oBaliseImgTempFin,this.nAnimDezoomPanoramiqueDimension(n,this.m_nHauteur))},n.prototype.nAnimDezoomDeplacementCoord=function(n,i,r,u){return i-u-t(n,r-u)},n.prototype.nAnimDezoomDeplacementDimension=function(n,i){return i*(1+this.m_nZoomFin)+t(n,i*(this.m_nZoom-this.m_nZoomFin))},n.prototype._AnimDezoomDeplacement=function(n){this.m_bPremierAffichage?(this.SetOpacite(this.m_oBaliseImgTempFin,this.m_nOpaciteDebut),this.SetOpacite(this.m_oBaliseImg,this.m_nOpaciteDebut)):this._AnimDeplacementOpacite(n);var t=this.nAnimDezoomDeplacementCoord(n,this.m_nX,this.m_nXDepart,this.m_nXFin),r=this.nAnimDezoomDeplacementCoord(n,this.m_nY,this.m_nYDepart,this.m_nYFin),u=this.nAnimDezoomDeplacementDimension(n,this.m_nLargeur),f=this.nAnimDezoomDeplacementDimension(n,this.m_nHauteur);if(this.m_oDC||!bIEQuirks9Max){if(this.SetX(this.m_oBaliseImgTempFin,t),this.SetY(this.m_oBaliseImgTempFin,r),this.SetLargeur(this.m_oBaliseImgTempFin,u),this.SetHauteur(this.m_oBaliseImgTempFin,f),this.m_oDC){this.SetOpacite(this.m_oCanva,i(Math.min(3*n,e),this.m_nOpaciteDebut));try{this.m_oDC.drawImage(this.m_oBaliseImgTempFin,t-this.m_nX,r-this.m_nY,u,f)}catch(o){}}}else this.m_oBaliseImgTempFin.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+this.GetOpacite(this.m_oBaliseImgTempFin)+') progid:DXImageTransform.Microsoft.Matrix(FilterType="bilinear",M11='+u/this.m_nLargeur+",M12=0,M21=0,M22="+f/this.m_nHauteur+",Dx="+(t-this.m_nX)+",Dy="+(r-this.m_nY)+")"},n.prototype.__AnimXXcouvrementInterne=function(n,r){this.SetX(r,this.m_nX+i(n,this.m_nLargeur)/2);this.SetY(r,this.m_nY+i(n,this.m_nHauteur)/2);this.SetLargeur(r,t(n,this.m_nLargeur));this.SetHauteur(r,t(n,this.m_nHauteur))},n.prototype.__AnimBoite=function(n){for(var f,u=0,c=0;c<this.m_nNbLigne;c++)for(f=0;f<this.m_nNbColonne;f++){var r=this.m_tabBoite[u],k=r.parentNode,e=this.GetX(k)+f*this.m_nLargeurBoite,o=this.GetY(k)+c*this.m_nHauteurBoite;switch(this.m_nType){case l:this.SetOpacite(r,t(n*(1+u%2),this.m_nOpaciteDebut));break;case yt:this.SetOpacite(r,t(n*(1+u%2),this.m_nOpaciteDebut));this.SetX(r,e+(u%4>1?1:-1)*i(n,this.m_nLargeurBoite));this.SetY(r,o+(u%2>0?1:-1)*i(n,this.m_nHauteurBoite));break;case pt:this.SetOpacite(r,t(n*(1+u%2),this.m_nOpaciteDebut));this.SetX(r,e-i(n,this.m_nLargeurBoite));this.SetY(r,o-i(n,this.m_nHauteurBoite));break;case wt:this.SetOpacite(r,t(n*(1+u%2),this.m_nOpaciteDebut));this.SetX(r,e+i(n,this.m_nLargeurBoite));this.SetY(r,o-i(n,this.m_nHauteurBoite));break;case bt:this.SetOpacite(r,t(n*(1+u%2),this.m_nOpaciteDebut));this.SetX(r,e-i(n,this.m_nLargeurBoite));this.SetY(r,o+i(n,this.m_nHauteurBoite));break;case kt:this.SetOpacite(r,t(n*(1+u%2),this.m_nOpaciteDebut));this.SetX(r,e+i(n,this.m_nLargeurBoite));this.SetY(r,o+i(n,this.m_nHauteurBoite));break;case vt:this.SetOpacite(r,t(n*(u/this.m_nNbBoite),this.m_nOpaciteDebut));break;case a:this.SetOpacite(r,t(n,this.m_nOpaciteDebut));this.SetX(r,e+i(n,(c%2==0?1:-1)*this.m_nLargeurBoite));break;case v:this.SetOpacite(r,t(n,this.m_nOpaciteDebut));this.SetY(r,o+i(n,(f%2==0?1:-1)*this.m_nHauteurBoite));break;case y:this.SetOpacite(r,t(n*(c/this.m_nNbLigne),this.m_nOpaciteDebut));break;case p:this.SetOpacite(r,t(n*(f/this.m_nNbColonne),this.m_nOpaciteDebut));break;case w:this.SetLargeur(r,t(n,this.m_nLargeurBoite));this.SetHauteur(r,t(n,this.m_nHauteurBoite));break;case s:this.SetLargeur(r,t(n,this.m_nLargeurBoite));this.SetHauteur(r,t(n,this.m_nHauteurBoite));break;case b:this.SetX(r,e+i(n,(f>0?1:-1)*this.m_nLargeurBoite));break;case h:this.SetY(r,o+i(n,(c>0?1:-1)*this.m_nHauteurBoite))}u++}},n.prototype.GetOpacite=function(n){return clWDUtil.nGetOpacite(n.style.opacity,n)},n.prototype.SetOpacite=function(n,t){clWDUtil.nSetOpacite(t,n)},n.prototype.GetX=function(n){return clWDUtil.nGetBoundingClientRectLeft(n,!1,!0)},n.prototype.SetX=function(n,t){var r=clWDUtil.nGetBordurePage(),i=n.offsetParent,u=i==n.ownerDocument.body,f=clWDUtil.nGetBoundingClientRectLeft(i,u,!0)+r;t-=f;clWDUtil.SetStyleLeft(n.style,t,0)},n.prototype.GetY=function(n){return clWDUtil.nGetBoundingClientRectTop(n,!1,!0)},n.prototype.SetY=function(n,t){var r=clWDUtil.nGetBordurePage(),i=n.offsetParent,u=i==n.ownerDocument.body,f=clWDUtil.nGetBoundingClientRectTop(i,u,!0)+r;t-=f;n.style.top=t+"px"},n.prototype.GetLargeur=function(n){return n.offsetWidth},n.prototype.SetLargeur=function(n,t){n.style.width=t+"px"},n.prototype.GetHauteur=function(n){return n.offsetHeight},n.prototype.SetHauteur=function(n,t){n.style.height=t+"px"},n.prototype.GetVisibilite=function(n){return n.style.visibility},n.prototype.SetVisibilite=function(n,t){n.style.visibility=t},n.prototype.SetSuperposable=function(n){n.style.position="absolute"},n.prototype.SetTransition=function(n,t,i){var k=d(n),e,c,o,u;if(k!=null){if(e=n.style,t==null){c=this.m_nDuree/100;o=0;i<0?o=r(0,c,!0):i>0&&(o=i/100);c-=o;u=" "+c+"s ";switch(this.m_nCourbe){case this.ms_nCourbeLineaire:u+="linear";break;case this.ms_nCourbeEase:u+="ease";break;case this.ms_nCourbeAccelere:u+="ease-in";break;default:case this.ms_nCourbeDecelere:u+="ease-out";break;case this.ms_nCourbeEaseInOut:u+="ease-in-out"}o>0&&(u+=" "+o+"s");switch(this.m_nType){case f:case l:case vt:case y:case p:t="opacity";break;case yt:case pt:case wt:case bt:case kt:t="opacity"+u+",left"+u+",top";break;case a:t="opacity"+u+",left";break;case v:t="opacity"+u+",top";break;case w:t="width"+u+",height";break;case s:t="width"+u+",height"+u+","+(e.transform!=null?"transform":e.msTransform!=null?"-ms-transform":e.webkitTransform!=null?"-webkit-transform":e.mozTransform!=null?"-moz-transform":"-o-transform");break;case b:t="left";break;case h:t="top";break;default:t="all"}t+=u}e.transition=e.msTransition=e.webkitTransition=e.mozTransition=e.oTransition=t}},n.prototype.SetTransform=function(n,t){if(n!=null){var i=n.style;i.transform=i.msTransform=i.mozTransform=i.oTransform=i.webkitTransform=t}},n.prototype.bClip=function(n){return n!=null&&clWDUtil.oGetCurrentStyle(n).overflow=="hidden"},n.prototype.Affiche=function(n,t){n.style.display=t?"block":"none"},n.prototype.bImageCharge=function(n){return n.readyState!=null?n.readyState=="complete":n.complete&&n.width>0},n.prototype.sBalise=function(n){return n==null||n.nodeName==null?"":n.nodeName.toLowerCase()},n.prototype.bImageTempFrere=function(n){return n==c},n.prototype.bTypeBoite=function(n){return n>=pi&&n<=wi},n.prototype.AjoutFrere=function(n){this.m_oBaliseImg.nextElementSibling?this.m_oBaliseImg.parentNode.insertBefore(n,this.m_oBaliseImg.nextElementSibling):this.m_oBaliseImg.parentNode.appendChild(n)},n.prototype.CopieProtectionCopie=function(n,t){n.oncontextmenu&&(t.oncontextmenu=clWDUtil.bStopPropagation);""!=n.title&&(t.title=n.title);""!=n.alt&&(t.alt=n.alt)},n.prototype.oAjoutImageTemp=function(n,t,i,r,e){var s=new Image,h,c,l,a;return this.SetSuperposable(s),r!=f&&SetVisible(s,!1),e?(this.AjoutFrere(s),this.SetX(s,this.m_nX),this.SetY(s,this.m_nY)):this.m_oDiv.appendChild(s),s.src=t,s.style.border="0",h=this.GetLargeur(s),c=this.GetHauteur(s),(r!=u||(this.m_oBaliseImg.outerHTML!=null?this.m_oBaliseImg.outerHTML.indexOf("width=")>=0:this.m_oBaliseImg.attributes!=null&&this.m_oBaliseImg.attributes.width!=null))&&(this.SetLargeur(s,this.m_nLargeur),this.SetHauteur(s,this.m_nHauteur)),i<100&&r!=o&&this.SetOpacite(s,i),ai(r)&&this.m_oBaliseImgTemp!=null&&(l=1.2,a=Math.max(this.m_nLargeurVisible*l/h,this.m_nHauteurVisible*l/c),this.m_nLargeur=h*a,this.m_nHauteur=c*a,this.SetLargeur(s,this.m_nLargeur),this.SetHauteur(s,this.m_nHauteur)),this.CopieProtectionCopie(n,s),s},n.prototype.vFin=function(){var n,t;if(this.SetTransition(this.m_oBaliseImg,this.m_sTransition),null!=this.m_sVisibilite&&this.SetVisibilite(this.m_oBaliseImg,this.m_sVisibilite),this.m_oBaliseImgTemp!=null&&((this.bImageTempFrere(this.m_nType)?this.m_oBaliseImg.parentNode:this.m_oDiv).removeChild(this.m_oBaliseImgTemp),delete this.m_oBaliseImgTemp),this.m_oDiapo==null){if(this.m_tabBoite!=null){for(n=0;n<this.m_tabBoite.length;n++)t=this.m_tabBoite[n],t.parentNode.removeChild(t),delete t;this.m_tabBoite=[]}this.m_oDiv.parentNode.removeChild(this.m_oDiv);delete this.m_oDiv;this.m_oBaliseImgTempFin!=null&&delete this.m_oBaliseImgTempFin;this.m_oCanva!=null&&delete this.m_oCanva}delete this.ms_oAnimations[this.m_sAliasChamp];WDAnim.prototype.vFin.apply(this,arguments)},n.prototype.nValeur=function(n){return n!=undefined?n:0},n}(),sAnimationJoueSurImage=function(){"use strict";var n=[];return function(t,i,r,u,f,e,o,s,h){if(!0===n[s])return i.src;try{n[s]=!0;var c=WDAnimSurImage.prototype.ms_oAnimations[s];return c&&(u=c.m_nOpaciteDebut,c.m_nTimeout!=null&&(f!=WDAnimSurImage.prototype.ms_nTypeMouvementAutomatique&&c._Maj(1),c.vAnnule())),WDAnimSurImage.prototype.ms_oAnimations[s]=new WDAnimSurImage(i,r,u,f,e,o,t,s,h),t}finally{n[s]=!1}}}();WDImageAnim.prototype.Maj=function(){var n=100;WDAnimSurImage.prototype.ms_oAnimations[this.m_sAlias]||(sAnimationJoueSurImage(this.m_oImg.src,this.m_oImg,this.m_oImg.src,this.m_nOpaciteDebut,WDAnimSurImage.prototype.ms_nTypeMouvementAutomatique,0,this.m_nDuree,this.m_sAlias,this.m_bPremierAffichage),this.m_bPremierAffichage=!1,n=this.m_nDuree*10);clWDUtil.nSetTimeout(this.m_pfCallBack,n)};WDImageZoom.prototype.ms_nPositionGauche=0;WDImageZoom.prototype.ms_nPositionDroite=1;WDImageZoom.prototype.ms_nPositionHaut=2;WDImageZoom.prototype.ms_nPositionBas=3;WDImageZoom.prototype.ms_nNbPosition=4;WDImageZoom.prototype.InitImage=function(){var n=WDAnimSurImage.prototype.bClip(this.m_oParentImage)?this.m_oParentImage:this.m_oObjet,t,r,i;(this.m_sSourceImage!=this.m_oObjet.src||this.m_nLargeur!=WDAnimSurImage.prototype.GetLargeur(n)||WDAnimSurImage.prototype.GetHauteur(n)!=this.m_nHauteur)&&(t=this.m_sSourceImage.length>0,this.m_sSourceImage=this.m_oObjet.src,this.m_nLargeur=WDAnimSurImage.prototype.GetLargeur(n),WDAnimSurImage.prototype.SetLargeur(this.m_oLimite,this.m_nLargeur),this.m_nHauteur=WDAnimSurImage.prototype.GetHauteur(n),WDAnimSurImage.prototype.SetHauteur(this.m_oLimite,this.m_nHauteur),this.m_nLargeurImageZoom=this.nDimensionInitImageZoom(this.m_nParamLargeurZoom,this.m_nLargeur),this.m_nHauteurImageZoom=this.nDimensionInitImageZoom(this.m_nParamHauteurZoom,this.m_nHauteur),this.m_bPopupPerso&&(this.m_nLargeurImageZoom=this.nDimensionInitImageZoomPopup(WDAnimSurImage.prototype.GetLargeur(this.m_oParentImagePopup),this.m_nParamLargeurZoom,this.m_nLargeurImageZoom),this.m_nHauteurImageZoom=this.nDimensionInitImageZoomPopup(WDAnimSurImage.prototype.GetHauteur(this.m_oParentImagePopup),this.m_nParamHauteurZoom,this.m_nHauteurImageZoom)),this.m_bPopupNonPerso&&(WDAnimSurImage.prototype.SetLargeur(this.m_oImagePopup,this.m_nLargeurImageZoom),WDAnimSurImage.prototype.SetHauteur(this.m_oImagePopup,this.m_nHauteurImageZoom)),this.m_nLargeurZoom=this.m_bPopupPersoOK?WDAnimSurImage.prototype.GetLargeur(this.m_oParentImagePopup):this.m_nLargeurImageZoom,this.m_nHauteurZoom=this.m_bPopupPersoOK?WDAnimSurImage.prototype.GetHauteur(this.m_oParentImagePopup):this.m_nHauteurImageZoom,WDAnimSurImage.prototype.SetLargeur(this.m_oZoom,this.m_nLargeurImageZoom),WDAnimSurImage.prototype.SetHauteur(this.m_oZoom,this.m_nHauteurImageZoom),this.m_oImageLoupe.src=this.m_oObjet.src,WDAnimSurImage.prototype.SetLargeur(this.m_oImageLoupe,this.m_nLargeur),WDAnimSurImage.prototype.SetHauteur(this.m_oImageLoupe,this.m_nHauteur),this.m_oImageZoom!=null&&(this.m_oZoom.removeChild(this.m_oImageZoom),delete this.m_oImageZoom),this.m_oImageZoom=new Image,this.m_oZoom.appendChild(this.m_oImageZoom),WDAnimSurImage.prototype.SetSuperposable(this.m_oImageZoom),r=this,this.m_oImageZoom.onload=function(){r.InitDimensionImage()},this.m_bInitImage=!1,this.m_bVignette&&t&&(i=new RegExp("("+this.m_oObjet.id+"\\=)(\\d+)","i"),this.m_oObjet.id.length&&i.test(this.m_sSourceImageVignette)&&(this.m_sSourceImageVignette=this.m_sSourceImageVignette.replace(i,function(n,t,i){return t+(parseInt(i,10)+1)}),t=!1)),this.m_oImageZoom.src=this.m_bVignette&&!t?this.m_sSourceImageVignette:this.m_oObjet.src,this.InitDimensionImage(!0))};WDImageZoom.prototype.InitDimensionImage=function(n){this.m_bInitImage||(this.m_nFacteurImageLargeur=this.nFacteurImageDimension(WDAnimSurImage.prototype.GetLargeur(this.m_oImageZoom),this.m_nLargeur),this.m_nFacteurImageHauteur=this.nFacteurImageDimension(WDAnimSurImage.prototype.GetHauteur(this.m_oImageZoom),this.m_nHauteur),this.InitZoom(this.m_nZoom,n),n||(this.m_bInitImage=!0))};WDImageZoom.prototype.InitZoom=function(n,t){this.m_nZoom=n!=null?Math.max(n,1):2;this.m_nLargeurLoupe=this.nDimensionLoupe(this.m_nLargeurImageZoom,this.m_nFacteurImageLargeur);WDAnimSurImage.prototype.SetLargeur(this.m_oLoupe,this.m_nLargeurLoupe);this.m_nHauteurLoupe=this.nDimensionLoupe(this.m_nHauteurImageZoom,this.m_nFacteurImageHauteur);WDAnimSurImage.prototype.SetHauteur(this.m_oLoupe,this.m_nHauteurLoupe);t||(WDAnimSurImage.prototype.SetLargeur(this.m_oImageZoom,this.nDimensionImageZoom(this.m_nLargeur,this.m_nFacteurImageLargeur)),WDAnimSurImage.prototype.SetHauteur(this.m_oImageZoom,this.nDimensionImageZoom(this.m_nHauteur,this.m_nFacteurImageHauteur)))};WDImageZoom.prototype.oParentImage=function(n,t){var i=(n!=null?n:this.m_oObjet).parentNode,r;if(!t&&(this.m_bVignette||i.href!=null)&&(i=i.parentNode),i.tagName.toLowerCase()=="td")while(i.tagName.toLowerCase()!="table")i=i.parentNode;return r=i.parentNode,WDAnimSurImage.prototype.bClip(r)&&r.parentNode!=null?r:i};WDImageZoom.prototype.nDimensionInitImageZoom=function(n,t){return n!=null?n:t};WDImageZoom.prototype.nDimensionInitImageZoomPopup=function(n,t,i){return t===null?n:Math.min(n,i)};WDImageZoom.prototype.nFacteurImageDimension=function(n,t){return t!=0?t/n:1};WDImageZoom.prototype.nDimensionLoupe=function(n,t){return n/this.m_nZoom*t};WDImageZoom.prototype.nDimensionImageZoom=function(n,t){return n*this.m_nZoom/t};WDImageZoom.prototype.nTestPosition=function(n,t){var a=Math.max(document.documentElement.clientWidth,window.innerWidth||0),v=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=0,r=0,u=!1,f=!1,s=5,e=s,o=s;switch(n){case this.ms_nPositionBas:i=this.m_nX;r=this.m_nY+this.m_nHauteur;e=0;break;case this.ms_nPositionGauche:i=this.m_nX-this.m_nLargeurZoom;u=!0;r=this.m_nY;o=0;break;case this.ms_nPositionHaut:i=this.m_nX;r=this.m_nY-this.m_nHauteurZoom;f=!0;e=0;break;default:i=this.m_nX+this.m_nLargeur;r=this.m_nY;o=0}var h=u?-i:i+this.m_nLargeurZoom-a,c=f?-r:r+this.m_nHauteurZoom-v,l=Math.max(h,c);return(t||l<=0)&&(this.m_nXZoom=i+(u?-1:1)*Math.min(e,-Math.min(h,0)),WDAnimSurImage.prototype.SetX(this.m_oPopup,this.m_nXZoom),this.m_nYZoom=r+(f?-1:1)*Math.min(o,-Math.min(c,0)),WDAnimSurImage.prototype.SetY(this.m_oPopup,this.m_nYZoom)),l};WDImageZoom.prototype.nCoordCoinLoupe=function(n,t,i,r){return Math.min(Math.max(n-t/2,i),i+r-t)};WDImageZoom.prototype.nCoordImageZoom=function(n,t,i,r){return n-(t-i)*this.m_nZoom/r};WDImageZoom.prototype.TimerAffiche=function(){this.m_nTimer=null;this.m_bAffiche=!0;this.OnMouseMove()};WDImageZoom.prototype.AnnuleTimerAffiche=function(){this.m_nTimer!=null&&(clWDUtil.ClearTimeout(this.m_nTimer),this.m_nTimer=null)};WDImageZoom.prototype.sObj=function(n){if(n==null)return"";var t=n.nodeName+" ";switch(n){case this.m_oImagePopup:t+="image popup";break;case this.m_oImageZoom:t+="image zoomee";break;case this.m_oLimite:t+="limite";break;case this.m_oLoupe:t+="loupe";break;case this.m_oObjet:t+="image affichee";break;case this.m_oZoom:t+="div zoom";break;case this.m_oPopup:t+="popup"}return t+("(x:"+WDAnimSurImage.prototype.GetX(n)+",y:"+WDAnimSurImage.prototype.GetY(n)+",l:"+WDAnimSurImage.prototype.GetLargeur(n)+",h:"+WDAnimSurImage.prototype.GetHauteur(n)+")")};WDImageZoom.prototype.AfficheLimiteImage=function(n){WDAnimSurImage.prototype.Affiche(this.m_oLimite,n)};WDImageZoom.prototype.PlanZoom=function(n){this.m_oZoom.style.zIndex=n?100:0};WDImageZoom.prototype.OnMouseMove=function(n){var r,u,i,f,e;if(this.InitImage(),n!=null&&(this.m_nXSouris=n.clientX+document.body.scrollLeft,this.m_nYSouris=n.clientY+document.body.scrollTop),!this.m_bAffiche){this.AnnuleTimerAffiche();this.m_nTimer=clWDUtil.nSetTimeout(this.m_pfCallTimer,clWDUtil.ms_nTimeoutNonImmediat100);return}this.AfficheLimiteImage(!0);this.m_oLimite.style.backgroundColor="white";r=this.oParentImage();this.m_nX=WDAnimSurImage.prototype.GetX(r);WDAnimSurImage.prototype.SetX(this.m_oLimite,this.m_nX);this.m_nY=WDAnimSurImage.prototype.GetY(r);WDAnimSurImage.prototype.SetY(this.m_oLimite,this.m_nY);for(var s=0,h=0,t=0,t=0;t<this.ms_nNbPosition;t++){if(u=(this.m_nPosition+t)%this.ms_nNbPosition,i=this.nTestPosition(u),i<=0)break;(t==0||i<s)&&(s=i,h=u)}t==this.ms_nNbPosition&&this.nTestPosition(h,!0);f=this.nCoordCoinLoupe(this.m_nXSouris-document.body.scrollLeft,this.m_nLargeurLoupe,this.m_nX,this.m_nLargeur);WDAnimSurImage.prototype.SetX(this.m_oLoupe,f);WDAnimSurImage.prototype.SetX(this.m_oImageLoupe,this.m_nX);e=this.nCoordCoinLoupe(this.m_nYSouris-document.body.scrollTop,this.m_nHauteurLoupe,this.m_nY,this.m_nHauteur);WDAnimSurImage.prototype.SetY(this.m_oLoupe,e);WDAnimSurImage.prototype.SetY(this.m_oImageLoupe,this.m_nY);SetVisible(this.m_oLoupe,!0);var o=this.m_oImagePopup!=null,c=o?WDAnimSurImage.prototype.GetX(this.m_oParentImagePopup):this.m_nXZoom,l=o?WDAnimSurImage.prototype.GetY(this.m_oParentImagePopup):this.m_nYZoom;o&&(WDAnimSurImage.prototype.SetX(this.m_oZoom,c),WDAnimSurImage.prototype.SetY(this.m_oZoom,l));WDAnimSurImage.prototype.SetX(this.m_oImageZoom,this.nCoordImageZoom(c,f,this.m_nX,this.m_nFacteurImageLargeur));WDAnimSurImage.prototype.SetY(this.m_oImageZoom,this.nCoordImageZoom(l,e,this.m_nY,this.m_nFacteurImageHauteur));SetVisible(this.m_oPopup,!0);this.PlanZoom(!0)};WDImageZoom.prototype.OnMouseOut=function(n){var t=n!=null?n.toElement?n.toElement:n.relatedTarget:null;clWDUtil.bDansTableau(this.m_oTabObjetSouris,t)||(this.m_oLimite.style.backgroundColor="",this.AnnuleTimerAffiche(),this.m_bAffiche=!1,SetVisible(this.m_oLoupe,!1),SetVisible(this.m_oPopup,!1),this.PlanZoom(),this.AfficheLimiteImage())};WDImageZoom.prototype.OnMouseWheel=function(n){var t=n.wheelDelta,i=t!=null?t:-n.detail;this.InitZoom(this.m_nZoom+i/Math.abs(i)*.1);this.OnMouseMove();clWDUtil.bStopPropagation(n)};WDAnimSurPopup.prototype=new WDAnim;WDAnimSurPopup.prototype.constructor=WDAnimSurPopup;WDAnimSurPopup.prototype.ms_nAnimDefilementDroite=2;WDAnimSurPopup.prototype.ms_nAnimDefilementGauche=3;WDAnimSurPopup.prototype.ms_nAnimRecouvrementHaut=8;WDAnimSurPopup.prototype.ms_nAnimDevoilementHaut=17;WDAnimSurPopup.prototype.ms_tabCibles=[];WDAnimSurPopup.prototype.ms_tabAnimSurPopup=[];WDAnimSurPopup.prototype.ms_nNbPauses=0;WDAnimSurPopup.prototype.vMaj=function(n,t,i){i=i||0<WDAnimSurPopup.prototype.ms_nNbPauses;WDAnim.prototype.vMaj.apply(this,arguments)};WDAnimSurPopup.prototype.vFin=function(){clWDUtil.SupprimeDansTableau(this.ms_tabAnimSurPopup,this);this.m_oCibleExterne.style.overflowY=this.m_sCibleExterneOverflowY;this.m_oCibleExterne.style.height=this.m_sCibleExterneHeight;this.m_oCible.style.position=this.m_sCiblePosition;this.s_FinAffiche(this.m_oPopup,this.m_oCible,this.m_oDocument,this.m_sAliasCible,this.m_sPopupPosition,this.m_sPopupZIndex);this.m_oPopup=null;delete this.m_oPopup;this.m_oCible=null;delete this.m_oCible;this.m_oCibleExterne=null;delete this.m_oCibleExterne;this.m_oPopupPrecedente=null;delete this.m_oPopupPrecedente;this.m_oDocument=null;delete this.m_oDocument;WDAnim.prototype.vFin.apply(this,arguments)};WDAnimSurPopup.prototype.__nGetZIndex=function(n,t){switch(n){case this.ms_nAnimDefilementDroite:case this.ms_nAnimDevoilementHaut:return t?"2":"1";default:case this.ms_nAnimDefilementGauche:case this.ms_nAnimRecouvrementHaut:return t?"1":"2"}};WDAnimSurPopup.prototype.__pfGetAvancement=function(n){switch(n){case this.ms_nAnimDefilementDroite:return this.__OnDefilementDroite;default:case this.ms_nAnimDefilementGauche:return this.__OnDefilementGauche;case this.ms_nAnimRecouvrementHaut:return this.__OnRecouvrementHaut;case this.ms_nAnimDevoilementHaut:return this.__OnDevoilementHaut}};WDAnimSurPopup.prototype.__nGetDeplacement=function(n,t){switch(n){default:case this.ms_nAnimDefilementDroite:case this.ms_nAnimDefilementGauche:return t.offsetWidth;case this.ms_nAnimRecouvrementHaut:case this.ms_nAnimDevoilementHaut:return Math.min(this.m_oDocument.body.offsetHeight+Math.min(0,clWDUtil.nGetBoundingClientRectTop(this.m_oCible,!1,!0)),t.offsetHeight)}};WDAnimSurPopup.prototype.__OnDefilementGauche=function(n){this.__OnDefilementDroiteGauche(n,!0)};WDAnimSurPopup.prototype.__OnDefilementDroite=function(n){this.__OnDefilementDroiteGauche(n,!1)};WDAnimSurPopup.prototype.__OnDefilementDroiteGauche=function(n,t){var i=t?-1:1;0==n&&(this.m_oPopupPrecedente.style.top="0px",this.m_oPopup.style.top=this.__nGetPositionVerticalFinal()+"px");this.m_oPopupPrecedente.style.left=i*n+"px";this.m_oPopup.style.left=i*(n-this.m_nValDelta)+"px";this.m_oPopup.className+=""};WDAnimSurPopup.prototype.__OnRecouvrementHaut=function(n){this.__OnRecouvrementDevoilementHaut(n,!0)};WDAnimSurPopup.prototype.__OnDevoilementHaut=function(n){this.__OnRecouvrementDevoilementHaut(n,!1)};WDAnimSurPopup.prototype.__OnRecouvrementDevoilementHaut=function(n,t){var i=t?this.m_oPopupPrecedente:this.m_oPopup,r=t?this.m_oPopup:this.m_oPopupPrecedente;0==n&&(i.style.left="0px",i.style.top="0px",r.style.left="0px");r.style.top=this.__nGetPositionVerticalFinal()+(t?this.m_nValDelta-n:n)+"px";this.m_oPopup.className+=""};WDAnimSurPopup.prototype.__nGetPositionVerticalFinal=function(){return Math.max(0,-clWDUtil.nGetBoundingClientRectTop(this.m_oCible,!1,!0))};WDAnimSurPopup.prototype.s_FinAffiche=function(n,t,i,r,u,f){var e=this.ms_tabCibles[r],o;e&&(clWDUtil.SetDisplay(e.m_oPopup,!1),AppelMethode(WDChamp.prototype.ms_sOnDisplay,[n,!1]),e.m_oPopup.style.position=e.m_sPosition,e.m_oPopup.style.zIndex=e.m_sZIndex,e.m_oPopup.style.visibility="hidden",e.m_oPopup=null,e=null,this.ms_tabCibles[r]=null,delete this.ms_tabCibles[r]);n.style.position="static";n.style.height="100%";n.style.zIndex="auto";n.style.visibility="inherit";"none"==clWDUtil.oGetCurrentStyle(n).display&&clWDUtil.SetDisplay(n,!0);o=clWDUtil.nGetBoundingClientRectTop(t,!0,!0);o<i.body.scrollTop&&(i.body.scrollTop=o);this.ms_tabCibles[r]={m_oPopup:n,m_sPosition:u,m_sZIndex:f};AppelMethode(WDChamp.prototype.ms_sOnDisplay,[n,!0])};WDAnimSurPopup.prototype.s_PopupAnime=function(n,t,i,r,u){var e=_JGE(n,i,!0,!1),f=_JGE(t,i,!1),o,h,s;if(f&&clWDUtil.bBaliseEstTag(f,"table")&&(f=f.getElementsByTagName("td")[0]),e&&f){if(o=this.ms_tabCibles[t],o){if(o.m_oPopup==e)return;s=_JGE(t,i,!0,!1);h=s.offsetHeight}else clWDUtil.SupprimeFils(f);e=clWDUtil.oCelluleDeplace(f,e);o?(s=_JGE(t,i,!0,!1),new WDAnimSurPopup(e,f,s,t,h,o.m_oPopup,i,r,u)):WDAnimSurPopup.prototype.s_FinAffiche(e,f,i,t,e.style.position,e.style.zIndex)}};WDAnimSurPopup.prototype.s_Pause=function(){0==WDAnimSurPopup.prototype.ms_nNbPauses++&&(WDAnimSurPopup.prototype.ms_nDebutPause=(new Date).getTime())};WDAnimSurPopup.prototype.s_Continue=function(){clWDUtil.nSetTimeout(WDAnimSurPopup.prototype.__s_Continue,clWDUtil.ms_oTimeoutImmediat)};WDAnimSurPopup.prototype.__s_Continue=function(){if(0==--WDAnimSurPopup.prototype.ms_nNbPauses){for(var i=(new Date).getTime()-WDAnimSurPopup.prototype.ms_nDebutPause,t=WDAnimSurPopup.prototype.ms_tabAnimSurPopup,r=t.length,n=0;n<r;n++)t[n].m_nDebut+=i;delete WDAnimSurPopup.prototype.ms_nDebutPause}},function(n,t){"use strict";function e(){if(!i.READY){i.event.determineEventTypes();i.utils.each(i.gestures,function(n){i.detection.register(n)});i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect);i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect);i.READY=!0}}var i=function(n,t){return new i.Instance(n,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};i.HAS_POINTEREVENTS=n.navigator.pointerEnabled||n.navigator.msPointerEnabled;i.HAS_TOUCHEVENTS="ontouchstart"in n;i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&n.navigator.userAgent.match(i.MOBILE_REGEX);i.EVENT_TYPES={};i.DIRECTION_DOWN="down";i.DIRECTION_LEFT="left";i.DIRECTION_UP="up";i.DIRECTION_RIGHT="right";i.POINTER_MOUSE="mouse";i.POINTER_TOUCH="touch";i.POINTER_PEN="pen";i.EVENT_START="start";i.EVENT_MOVE="move";i.EVENT_END="end";i.DOCUMENT=n.document;i.plugins=i.plugins||{};i.gestures=i.gestures||{};i.READY=!1;i.utils={extend:function(n,i,r){for(var u in i)n[u]!==t&&r||(n[u]=i[u]);return n},each:function(n,i,r){var u,f;if("forEach"in n)n.forEach(i,r);else if(n.length!==t){for(u=0,f=n.length;u<f;u++)if(i.call(r,n[u],u,n)===!1)return}else for(u in n)if(n.hasOwnProperty(u)&&i.call(r,n[u],u,n)===!1)return},hasParent:function(n,t){while(n){if(n==t)return!0;n=n.parentNode}return!1},getCenter:function(n){var t=[],r=[];return i.utils.each(n,function(n){t.push(typeof n.clientX!="undefined"?n.clientX:n.pageX);r.push(typeof n.clientY!="undefined"?n.clientY:n.pageY)}),{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,r)+Math.max.apply(Math,r))/2}},getVelocity:function(n,t,i){return{x:Math.abs(t/n)||0,y:Math.abs(i/n)||0}},getAngle:function(n,t){var i=t.pageY-n.pageY,r=t.pageX-n.pageX;return Math.atan2(i,r)*180/Math.PI},getDirection:function(n,t){var r=Math.abs(n.pageX-t.pageX),u=Math.abs(n.pageY-t.pageY);return r>=u?n.pageX-t.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:n.pageY-t.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(n,t){var i=t.pageX-n.pageX,r=t.pageY-n.pageY;return Math.sqrt(i*i+r*r)},getScale:function(n,t){return n.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(n[0],n[1]):1},getRotation:function(n,t){return n.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(n[1],n[0]):0},isVertical:function(n){return n==i.DIRECTION_UP||n==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(n,t){t&&n&&n.style&&(i.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(r){i.utils.each(t,function(t){r&&(t=r+t.substring(0,1).toUpperCase()+t.substring(1));t in n.style&&(n.style[t]=t)})}),t.userSelect=="none"&&(n.onselectstart=function(){return!1}),t.userDrag=="none"&&(n.ondragstart=function(){return!1}))}};i.Instance=function(n,t){var r=this;e();this.element=n;this.enabled=!0;this.options=i.utils.extend(i.utils.extend({},i.defaults),t||{});this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);i.event.onTouch(n,i.EVENT_START,function(n){r.enabled&&i.detection.startDetect(r,n)});return this};i.Instance.prototype={on:function(n,t){var r=n.split(" ");return i.utils.each(r,function(n){this.element.addEventListener(n,t,!1)},this),this},off:function(n,t){var r=n.split(" ");return i.utils.each(r,function(n){this.element.removeEventListener(n,t,!1)},this),this},trigger:function(n,t){var r,u;return t||(t={}),r=i.DOCUMENT.createEvent("Event"),r.initEvent(n,!0,!0),r.gesture=t,u=this.element,i.utils.hasParent(t.target,u)&&(u=t.target),u.dispatchEvent(r),this},enable:function(n){return this.enabled=n,this}};var r=null,u=!1,f=!1;i.event={bindDom:function(n,t,r){var u=t.split(" ");i.utils.each(u,function(t){n.addEventListener(t,r,!1)})},onTouch:function(n,t,e){var o=this;this.bindDom(n,i.EVENT_TYPES[t],function(s){var c=s.type.toLowerCase(),h;c.match(/mouse/)&&f||(c.match(/touch/)||c.match(/pointerdown/)||c.match(/mouse/)&&s.which===1?u=!0:c.match(/mouse/)&&!s.which&&(u=!1),c.match(/touch|pointer/)&&(f=!0),h=0,u&&(i.HAS_POINTEREVENTS&&t!=i.EVENT_END?h=i.PointerEvent.updatePointer(t,s):c.match(/touch/)?h=s.touches.length:f||(h=c.match(/up/)?0:1),h>0&&t==i.EVENT_END?t=i.EVENT_MOVE:h||(t=i.EVENT_END),(h||r===null)&&(r=s),e.call(i.detection,o.collectEventData(n,t,o.getTouchList(r,t),s)),i.HAS_POINTEREVENTS&&t==i.EVENT_END&&(h=i.PointerEvent.updatePointer(t,s))),h||(r=null,u=!1,f=!1,i.PointerEvent.reset()))})},determineEventTypes:function(){var n;n=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];i.EVENT_TYPES[i.EVENT_START]=n[0];i.EVENT_TYPES[i.EVENT_MOVE]=n[1];i.EVENT_TYPES[i.EVENT_END]=n[2]},getTouchList:function(n){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():n.touches?n.touches:(n.identifier=1,[n])},collectEventData:function(n,t,r,u){var f=i.POINTER_TOUCH;return(u.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,u))&&(f=i.POINTER_MOUSE),{center:i.utils.getCenter(r),timeStamp:(new Date).getTime(),target:u.target,touches:r,eventType:t,pointerType:f,srcEvent:u,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation();this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}};i.PointerEvent={pointers:{},getTouchList:function(){var t=this,n=[];return i.utils.each(t.pointers,function(t){n.push(t)}),n},updatePointer:function(n,t){return n==i.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(n,t){if(!t.pointerType)return!1;var r=t.pointerType,u={};return u[i.POINTER_MOUSE]=r===t.MSPOINTER_TYPE_MOUSE||r===i.POINTER_MOUSE,u[i.POINTER_TOUCH]=r===t.MSPOINTER_TYPE_TOUCH||r===i.POINTER_TOUCH,u[i.POINTER_PEN]=r===t.MSPOINTER_TYPE_PEN||r===i.POINTER_PEN,u[n]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(n,t){this.current||(this.stopped=!1,this.current={inst:n,startEvent:i.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(n){if(this.current&&!this.stopped){n=this.extendEventData(n);var t=this.current.inst.options;return i.utils.each(this.gestures,function(i){if(!this.stopped&&t[i.name]!==!1&&i.handler.call(i,n,this.current.inst)===!1)return this.stopDetect(),!1},this),this.current&&(this.current.lastEvent=n),n.eventType==i.EVENT_END&&!n.touches.length-1&&this.stopDetect(),n}},stopDetect:function(){this.previous=i.utils.extend({},this.current);this.current=null;this.stopped=!0},extendEventData:function(n){var t=this.current.startEvent;t&&(n.touches.length!=t.touches.length||n.touches===t.touches)&&(t.touches=[],i.utils.each(n.touches,function(n){t.touches.push(i.utils.extend({},n))}));var f=n.timeStamp-t.timeStamp,e=n.center.pageX-t.center.pageX,o=n.center.pageY-t.center.pageY,s=i.utils.getVelocity(f,e,o),r,u;return n.eventType==="end"?(r=this.current.lastEvent&&this.current.lastEvent.interimAngle,u=this.current.lastEvent&&this.current.lastEvent.interimDirection):(r=this.current.lastEvent&&i.utils.getAngle(this.current.lastEvent.center,n.center),u=this.current.lastEvent&&i.utils.getDirection(this.current.lastEvent.center,n.center)),i.utils.extend(n,{deltaTime:f,deltaX:e,deltaY:o,velocityX:s.x,velocityY:s.y,distance:i.utils.getDistance(t.center,n.center),angle:i.utils.getAngle(t.center,n.center),interimAngle:r,direction:i.utils.getDirection(t.center,n.center),interimDirection:u,scale:i.utils.getScale(t.touches,n.touches),rotation:i.utils.getRotation(t.touches,n.touches),startEvent:t}),n},register:function(n){var r=n.defaults||{};return r[n.name]===t&&(r[n.name]=!0),i.utils.extend(i.defaults,r,!0),n.index=n.index||1e3,this.gestures.push(n),this.gestures.sort(function(n,t){return n.index<t.index?-1:n.index>t.index?1:0}),this.gestures}};i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(n,t){var r,u;if(i.detection.current.name!=this.name&&this.triggered){t.trigger(this.name+"end",n);this.triggered=!1;return}if(!(t.options.drag_max_touches>0)||!(n.touches.length>t.options.drag_max_touches))switch(n.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(n.distance<t.options.drag_min_distance&&i.detection.current.name!=this.name)return;i.detection.current.name!=this.name&&(i.detection.current.name=this.name,t.options.correct_for_drag_min_distance&&n.distance>0&&(r=Math.abs(t.options.drag_min_distance/n.distance),i.detection.current.startEvent.center.pageX+=n.deltaX*r,i.detection.current.startEvent.center.pageY+=n.deltaY*r,n=i.detection.extendEventData(n)));(i.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=n.distance)&&(n.drag_locked_to_axis=!0);u=i.detection.current.lastEvent.direction;n.drag_locked_to_axis&&u!==n.direction&&(n.direction=i.utils.isVertical(u)?n.deltaY<0?i.DIRECTION_UP:i.DIRECTION_DOWN:n.deltaX<0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT);this.triggered||(t.trigger(this.name+"start",n),this.triggered=!0);t.trigger(this.name,n);t.trigger(this.name+n.direction,n);(t.options.drag_block_vertical&&i.utils.isVertical(n.direction)||t.options.drag_block_horizontal&&!i.utils.isVertical(n.direction))&&n.preventDefault();break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",n);this.triggered=!1}}};i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(n,t){switch(n.eventType){case i.EVENT_START:clearTimeout(this.timer);i.detection.current.name=this.name;this.timer=setTimeout(function(){i.detection.current.name=="hold"&&t.trigger("hold",n)},t.options.hold_timeout);break;case i.EVENT_MOVE:n.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}};i.gestures.Release={name:"release",index:Infinity,handler:function(n,t){n.eventType==i.EVENT_END&&t.trigger(this.name,n)}};i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(n,t){if(n.eventType==i.EVENT_END){if(t.options.swipe_max_touches>0&&n.touches.length<t.options.swipe_min_touches&&n.touches.length>t.options.swipe_max_touches)return;(n.velocityX>t.options.swipe_velocity||n.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,n),t.trigger(this.name+n.direction,n))}}};i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(n,t){if(n.eventType==i.EVENT_END&&n.srcEvent.type!="touchcancel"){var r=i.detection.previous,u=!1;if(n.deltaTime>t.options.tap_max_touchtime||n.distance>t.options.tap_max_distance)return;r&&r.name=="tap"&&n.timeStamp-r.lastEvent.timeStamp<t.options.doubletap_interval&&n.distance<t.options.doubletap_distance&&(t.trigger("doubletap",n),u=!0);(!u||t.options.tap_always)&&(i.detection.current.name="tap",t.trigger(i.detection.current.name,n))}}};i.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(n,t){if(t.options.prevent_mouseevents&&n.pointerType==i.POINTER_MOUSE){n.stopDetect();return}t.options.prevent_default&&n.preventDefault();n.eventType==i.EVENT_START&&t.trigger(this.name,n)}};i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(n,t){if(i.detection.current.name!=this.name&&this.triggered){t.trigger(this.name+"end",n);this.triggered=!1;return}if(!(n.touches.length<2)){t.options.transform_always_block&&n.preventDefault();switch(n.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var r=Math.abs(1-n.scale),u=Math.abs(n.rotation);if(r<t.options.transform_min_scale&&u<t.options.transform_min_rotation)return;i.detection.current.name=this.name;this.triggered||(t.trigger(this.name+"start",n),this.triggered=!0);t.trigger(this.name,n);u>t.options.transform_min_rotation&&t.trigger("rotate",n);r>t.options.transform_min_scale&&(t.trigger("pinch",n),t.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",n);this.triggered=!1}}}};typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return i}):typeof module=="object"&&typeof module.exports=="object"?module.exports=i:n.WDGestureEvenement=i}(this),function(n){n.plugins.fakeMultitouch=function(){var t=!1;n.HAS_POINTEREVENTS=navigator.msPointerEnabled&&navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints>=1;n.event.getTouchList=function(i,r){if(n.HAS_POINTEREVENTS)return n.PointerEvent.getTouchList();if(i.touches)return i.touches;if(r==n.EVENT_START&&(t=!1),i.shiftKey){t||(t={pageX:i.pageX,pageY:i.pageY});var u=t.pageX-i.pageX,f=t.pageY-i.pageY;return[{identifier:1,pageX:t.pageX-u-50,pageY:t.pageY-f- -50,target:i.target},{identifier:2,pageX:t.pageX+u- -50,pageY:t.pageY+f-50,target:i.target}]}return t=!1,[{identifier:1,pageX:i.pageX,pageY:i.pageY,target:i.target}]}}}(window.WDGestureEvenement);WDGestureEvenement.plugins.fakeMultitouch();WDGesture.prototype.GaucheADroite=1;WDGesture.prototype.DroiteAGauche=2;WDGesture.prototype.BasEnHaut=11;WDGesture.prototype.HautEnBas=12;WDGesture.prototype.gpPage=0;WDGesture.prototype.gpEcran=1;WDGesture.prototype.gpChamp=2;WDGesture.prototype.gpImage=3;WDGesture.prototype.goGesture=null;WDGesture.prototype.bExecuteCallbackSouris=function(n,t){if(this.m_nEchelle<=1&&this.m_nLargeur<=this.m_nLargeurAffichage&&this.m_nHauteur<=this.m_nHauteurAffichage)return!1;this.MajDeplacement(n);var i=this.oEvenementGesture(n);return i!=null&&t!=null?!0:!1};WDGesture.prototype.nCarreDiffCoord=function(n,t){return Math.pow(n-t,2)};WDGesture.prototype.InitChangement=function(){this.m_nDeplacementX=0;this.m_nDeplacementY=0;this.m_nChangementEchelle=1};WDGesture.prototype.GetVariable=function(n){var t=WDGesture.prototype.goGesture;if(t==null)return 0;switch(n){case 0:return t.m_nDirection;case 1:return t.m_nDistance;case 2:return t.m_nVitesse}};WDGesture.prototype.Transform=function(){var n="translate3d("+this.m_nX+"px,"+this.m_nY+"px,0)";this.m_bZoom&&(n+=" scale3d("+this.m_nEchelle+","+this.m_nEchelle+",1)");WDAnimSurImage.prototype.SetTransform(this.m_oObjet,n)};WDGesture.prototype.nDeplacementMax=function(n){return(this.m_nEchelle-1)*n/2};WDGesture.prototype.nDeplacement=function(n,t,i,r,u){var f=this.nDeplacementMax(r,u);return Math.min(Math.max(n-t+i,-f-(r-u)),f)};WDGesture.prototype.oEvenementGesture=function(n){return n!=null&&n.gesture!=null?n.gesture:null};WDGesture.prototype.MajDirection=function(n){var t=this.oEvenementGesture(n);if(t!=null)switch(t.direction){case"up":this.m_nDirection=this.BasEnHaut;break;case"down":this.m_nDirection=this.HautEnBas;break;case"left":this.m_nDirection=this.DroiteAGauche;break;case"right":this.m_nDirection=this.GaucheADroite}};WDGesture.prototype.nDeplacementEvenementVersDeplacementWL=function(n){return Math.round(n)};WDGesture.prototype.MajDistance=function(n){var t=this.oEvenementGesture(n);if(t!=null){switch(this.m_nDirection){case this.GaucheADroite:case this.DroiteAGauche:this.m_nDistance=t.deltaX;break;case this.BasEnHaut:case this.HautEnBas:this.m_nDistance=t.deltaY;break;default:return}this.m_nDistance=this.nDeplacementEvenementVersDeplacementWL(this.m_nDistance)}};WDGesture.prototype.nVitesseEvenementVersVitesseWL=function(n){return Math.round(n*1e3)};WDGesture.prototype.MajVitesse=function(n){var t=this.oEvenementGesture(n);if(t!=null){switch(this.m_nDirection){case this.GaucheADroite:case this.DroiteAGauche:this.m_nVitesse=t.velocityX;break;case this.BasEnHaut:case this.HautEnBas:this.m_nVitesse=t.velocityY;break;default:return}this.m_nVitesse=this.nVitesseEvenementVersVitesseWL(this.m_nVitesse)}};WDGesture.prototype.MajNbPointeur=function(n){var t=this.oEvenementGesture(n);t!=null&&(this.m_nNbPointeur=t.touches.length)};WDGesture.prototype.MajIndicePointeurEnCours=function(n){var t=this.oEvenementGesture(n);t!=null&&(this.m_nIndicePointeurEnCours=t.touches.length>0?1:0)};WDGesture.prototype.nCoordEvObjetVersCoordObjet=function(n,t,i){for(var r=n.target,e=i?r.offsetLeft:r.offsetTop,o=r.ownerDocument.body,u,f;;){if(u=r.offsetParent,r=u!=null?u:r.parentNode,r==null||r==o)break;f=i?r.offsetLeft:r.offsetTop;f!==undefined&&(e+=f)}return(i?window.pageXOffset:window.pageYOffset)+(i?n.clientX:n.clientY)-e-t};WDGesture.prototype.nCoordObjetVersCoordImage=function(n,t,i){return Math.round((n+t*(this.m_nEchelle-1)/2-i)/this.m_nEchelle)};WDGesture.prototype.MajPointeur=function(n){var i=this.oEvenementGesture(n),t;i!=null&&(this.m_oTabPointeur=i.touches,t=i.srcEvent,t.screenX!=undefined||(t=t.touches.item(0),t!=null))&&(this.m_nXEcran=t.screenX-t.pageX,this.m_nYEcran=t.screenY-t.pageY,this.m_nXClient=t.clientX-t.pageX,this.m_nYClient=t.clientY-t.pageY,this.m_nXObjet=this.nCoordEvObjetVersCoordObjet(t,t.pageX,!0),this.m_nYObjet=this.nCoordEvObjetVersCoordObjet(t,t.pageY,!1),this.m_nXImage=this.nCoordObjetVersCoordImage(this.m_nXObjet,this.m_nLargeur,this.m_nX),this.m_nYImage=this.nCoordObjetVersCoordImage(this.m_nYObjet,this.m_nHauteur,this.m_nY))};WDGesture.prototype.MajVariable=function(n){this.MajDirection(n);this.MajDistance(n);this.MajVitesse(n);this.MajNbPointeur(n);this.MajIndicePointeurEnCours(n);this.MajPointeur(n)};WDGesture.prototype.MajDeplacement=function(n){var t=this.oEvenementGesture(n);t!=null&&(this.MajVariable(n),WDGesture.prototype.goGesture=this,this.m_nX=this.nDeplacement(this.m_nX,this.m_nDeplacementX,t.deltaX,this.m_nLargeur,this.m_nLargeurAffichage),this.m_nY=this.nDeplacement(this.m_nY,this.m_nDeplacementY,t.deltaY,this.m_nHauteur,this.m_nHauteurAffichage),this.m_nDeplacementX=t.deltaX,this.m_nDeplacementY=t.deltaY,this.Transform())};WDGesture.prototype.GesteNbPointeur=function(){var n=WDGesture.prototype.goGesture;return n==null?0:n.m_nNbPointeur};WDGesture.prototype.GestePointeurEncours=function(){var n=WDGesture.prototype.goGesture;return n==null?0:n.m_nIndicePointeurEnCours};WDGesture.prototype.GestePos=function(n,t,i){var r=WDGesture.prototype.goGesture,f,e,u;if(r==null||(n=n!=undefined?n-1:0,f=r.m_oTabPointeur,n>f.length))return-1;e=f[n];u=i?e.pageY:e.pageX;switch(t){case r.gpEcran:return u+(i?r.m_nYEcran:r.m_nXEcran);case r.gpPage:return u+(i?r.m_nYClient:r.m_nXClient);case r.gpImage:return Math.round((u+(i?r.m_nYImage:r.m_nXImage))/r.m_nEchelle);default:return u+(i?r.m_nYObjet:r.m_nXObjet)}};WDGesture.prototype.GestePosX=function(n,t){return WDGesture.prototype.GestePos(n,t)};WDGesture.prototype.GestePosY=function(n,t){return WDGesture.prototype.GestePos(n,t,!0)}